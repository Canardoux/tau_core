{
  "version": 3,
  "sources": ["../../../../../../../../../third_party/devtools-frontend/src/front_end/panels/mobile_throttling/NetworkPanelIndicator.ts"],
  "sourcesContent": ["// Copyright 2017 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nconst UIStrings = {\n  /**\n   *@description Icon title in Network Panel Indicator of the Network panel\n   */\n  networkThrottlingIsEnabled: 'Network throttling is enabled',\n  /**\n   *@description Icon title in Network Panel Indicator of the Network panel\n   */\n  requestsMayBeOverridden: 'Requests may be overridden locally, see the Sources panel',\n  /**\n   *@description Icon title in Network Panel Indicator of the Network panel\n   */\n  requestsMayBeBlocked: 'Requests may be blocked, see the Network request blocking panel',\n  /**\n   * @description Title of an icon in the Network panel that indicates that accepted content encodings have been overriden.\n   */\n  acceptedEncodingOverrideSet:\n      'The set of accepted `Content-Encoding` headers has been modified by DevTools, see the Network conditions panel',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/mobile_throttling/NetworkPanelIndicator.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class NetworkPanelIndicator {\n  constructor() {\n    // TODO: we should not access network from other modules.\n    if (!UI.InspectorView.InspectorView.instance().hasPanel('network')) {\n      return;\n    }\n    const manager = SDK.NetworkManager.MultitargetNetworkManager.instance();\n    manager.addEventListener(SDK.NetworkManager.MultitargetNetworkManager.Events.CONDITIONS_CHANGED, updateVisibility);\n    manager.addEventListener(\n        SDK.NetworkManager.MultitargetNetworkManager.Events.BLOCKED_PATTERNS_CHANGED, updateVisibility);\n    manager.addEventListener(\n        SDK.NetworkManager.MultitargetNetworkManager.Events.INTERCEPTORS_CHANGED, updateVisibility);\n    manager.addEventListener(\n        SDK.NetworkManager.MultitargetNetworkManager.Events.ACCEPTED_ENCODINGS_CHANGED, updateVisibility);\n    Common.Settings.Settings.instance().moduleSetting('cache-disabled').addChangeListener(updateVisibility, this);\n\n    updateVisibility();\n\n    function updateVisibility(): void {\n      const warnings = [];\n      if (manager.isThrottling()) {\n        warnings.push(i18nString(UIStrings.networkThrottlingIsEnabled));\n      }\n      if (SDK.NetworkManager.MultitargetNetworkManager.instance().isIntercepting()) {\n        warnings.push(i18nString(UIStrings.requestsMayBeOverridden));\n      }\n      if (manager.isBlocking()) {\n        warnings.push(i18nString(UIStrings.requestsMayBeBlocked));\n      }\n      if (manager.isAcceptedEncodingOverrideSet()) {\n        warnings.push(i18nString(UIStrings.acceptedEncodingOverrideSet));\n      }\n      UI.InspectorView.InspectorView.instance().setPanelWarnings('network', warnings);\n    }\n  }\n}\n"],
  "mappings": ";AAIA,YAAY,YAAY;AACxB,YAAY,UAAU;AACtB,YAAY,SAAS;AACrB,YAAY,QAAQ;AAEpB,MAAM,YAAY;AAAA;AAAA;AAAA;AAAA,EAIhB,4BAA4B;AAAA;AAAA;AAAA;AAAA,EAI5B,yBAAyB;AAAA;AAAA;AAAA;AAAA,EAIzB,sBAAsB;AAAA;AAAA;AAAA;AAAA,EAItB,6BACI;AACN;AACA,MAAM,OAAO,KAAK,KAAK,kBAAkB,qDAAqD,SAAS;AACvG,MAAM,aAAa,KAAK,KAAK,mBAAmB,KAAK,QAAW,IAAI;AAE7D,aAAM,sBAAsB;AAAA,EACjC,cAAc;AAEZ,QAAI,CAAC,GAAG,cAAc,cAAc,SAAS,EAAE,SAAS,SAAS,GAAG;AAClE;AAAA,IACF;AACA,UAAM,UAAU,IAAI,eAAe,0BAA0B,SAAS;AACtE,YAAQ,iBAAiB,IAAI,eAAe,0BAA0B,OAAO,oBAAoB,gBAAgB;AACjH,YAAQ;AAAA,MACJ,IAAI,eAAe,0BAA0B,OAAO;AAAA,MAA0B;AAAA,IAAgB;AAClG,YAAQ;AAAA,MACJ,IAAI,eAAe,0BAA0B,OAAO;AAAA,MAAsB;AAAA,IAAgB;AAC9F,YAAQ;AAAA,MACJ,IAAI,eAAe,0BAA0B,OAAO;AAAA,MAA4B;AAAA,IAAgB;AACpG,WAAO,SAAS,SAAS,SAAS,EAAE,cAAc,gBAAgB,EAAE,kBAAkB,kBAAkB,IAAI;AAE5G,qBAAiB;AAEjB,aAAS,mBAAyB;AAChC,YAAM,WAAW,CAAC;AAClB,UAAI,QAAQ,aAAa,GAAG;AAC1B,iBAAS,KAAK,WAAW,UAAU,0BAA0B,CAAC;AAAA,MAChE;AACA,UAAI,IAAI,eAAe,0BAA0B,SAAS,EAAE,eAAe,GAAG;AAC5E,iBAAS,KAAK,WAAW,UAAU,uBAAuB,CAAC;AAAA,MAC7D;AACA,UAAI,QAAQ,WAAW,GAAG;AACxB,iBAAS,KAAK,WAAW,UAAU,oBAAoB,CAAC;AAAA,MAC1D;AACA,UAAI,QAAQ,8BAA8B,GAAG;AAC3C,iBAAS,KAAK,WAAW,UAAU,2BAA2B,CAAC;AAAA,MACjE;AACA,SAAG,cAAc,cAAc,SAAS,EAAE,iBAAiB,WAAW,QAAQ;AAAA,IAChF;AAAA,EACF;AACF;",
  "names": []
}
