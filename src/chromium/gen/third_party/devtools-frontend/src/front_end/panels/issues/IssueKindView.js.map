{
  "version": 3,
  "sources": ["../../../../../../../../../third_party/devtools-frontend/src/front_end/panels/issues/IssueKindView.ts"],
  "sourcesContent": ["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as IssuesManager from '../../models/issues_manager/issues_manager.js';\nimport * as Adorners from '../../ui/components/adorners/adorners.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as IssueCounter from '../../ui/components/issue_counter/issue_counter.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport * as Components from './components/components.js';\n\nconst UIStrings = {\n  /**\n   * @description Menu entry for hiding all current Page Errors.\n   */\n  hideAllCurrentPageErrors: 'Hide all current Page Errors',\n  /**\n   * @description Menu entry for hiding all current Breaking Changes.\n   */\n  hideAllCurrentBreakingChanges: 'Hide all current Breaking Changes',\n  /**\n   * @description Menu entry for hiding all current Page Errors.\n   */\n  hideAllCurrentImprovements: 'Hide all current Improvements',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/issues/IssueKindView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport function getGroupIssuesByKindSetting(): Common.Settings.Setting<boolean> {\n  return Common.Settings.Settings.instance().createSetting('group-issues-by-kind', false);\n}\n\nexport function issueKindViewSortPriority(a: IssueKindView, b: IssueKindView): number {\n  if (a.getKind() === b.getKind()) {\n    return 0;\n  }\n  if (a.getKind() === IssuesManager.Issue.IssueKind.PAGE_ERROR) {\n    return -1;\n  }\n  if (a.getKind() === IssuesManager.Issue.IssueKind.BREAKING_CHANGE &&\n      b.getKind() === IssuesManager.Issue.IssueKind.IMPROVEMENT) {\n    return -1;\n  }\n  return 1;\n}\n\nexport function getClassNameFromKind(kind: IssuesManager.Issue.IssueKind): string {\n  switch (kind) {\n    case IssuesManager.Issue.IssueKind.BREAKING_CHANGE:\n      return 'breaking-changes';\n    case IssuesManager.Issue.IssueKind.IMPROVEMENT:\n      return 'improvements';\n    case IssuesManager.Issue.IssueKind.PAGE_ERROR:\n      return 'page-errors';\n  }\n}\n\nexport class IssueKindView extends UI.TreeOutline.TreeElement {\n  #kind: IssuesManager.Issue.IssueKind;\n  #issueCount: HTMLElement;\n\n  constructor(kind: IssuesManager.Issue.IssueKind) {\n    super(undefined, true);\n    this.#kind = kind;\n    this.#issueCount = document.createElement('span');\n\n    this.toggleOnClick = true;\n    this.listItemElement.classList.add('issue-kind');\n    this.listItemElement.classList.add(getClassNameFromKind(kind));\n    this.childrenListElement.classList.add('issue-kind-body');\n  }\n\n  getKind(): IssuesManager.Issue.IssueKind {\n    return this.#kind;\n  }\n\n  getHideAllCurrentKindString(): Common.UIString.LocalizedString {\n    switch (this.#kind) {\n      case IssuesManager.Issue.IssueKind.PAGE_ERROR:\n        return i18nString(UIStrings.hideAllCurrentPageErrors);\n      case IssuesManager.Issue.IssueKind.IMPROVEMENT:\n        return i18nString(UIStrings.hideAllCurrentImprovements);\n      case IssuesManager.Issue.IssueKind.BREAKING_CHANGE:\n        return i18nString(UIStrings.hideAllCurrentBreakingChanges);\n    }\n  }\n\n  #appendHeader(): void {\n    const header = document.createElement('div');\n    header.classList.add('header');\n\n    const issueKindIcon = new IconButton.Icon.Icon();\n    issueKindIcon.data = IssueCounter.IssueCounter.getIssueKindIconData(this.#kind);\n    issueKindIcon.classList.add('leading-issue-icon');\n\n    const countAdorner = new Adorners.Adorner.Adorner();\n    countAdorner.data = {\n      name: 'countWrapper',\n      content: this.#issueCount,\n    };\n    countAdorner.classList.add('aggregated-issues-count');\n    this.#issueCount.textContent = '0';\n\n    const title = document.createElement('div');\n    title.classList.add('title');\n    title.textContent = IssuesManager.Issue.getIssueKindName(this.#kind);\n\n    const hideAvailableIssuesBtn = new Components.HideIssuesMenu.HideIssuesMenu();\n    hideAvailableIssuesBtn.classList.add('hide-available-issues');\n    hideAvailableIssuesBtn.data = {\n      menuItemLabel: this.getHideAllCurrentKindString(),\n      menuItemAction: () => {\n        const setting = IssuesManager.IssuesManager.getHideIssueByCodeSetting();\n        const values = setting.get();\n        for (const issue of IssuesManager.IssuesManager.IssuesManager.instance().issues()) {\n          if (issue.getKind() === this.#kind) {\n            values[issue.code()] = IssuesManager.IssuesManager.IssueStatus.HIDDEN;\n          }\n        }\n        setting.set(values);\n      },\n    };\n\n    header.appendChild(issueKindIcon);\n    header.appendChild(countAdorner);\n    header.appendChild(title);\n    header.appendChild(hideAvailableIssuesBtn);\n\n    this.listItemElement.appendChild(header);\n  }\n\n  override onattach(): void {\n    this.#appendHeader();\n    this.expand();\n  }\n\n  update(count: number): void {\n    this.#issueCount.textContent = `${count}`;\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
