{
  "version": 3,
  "sources": ["../../../../../../../../../third_party/devtools-frontend/src/front_end/models/persistence/FileSystemWorkspaceBinding.ts"],
  "sourcesContent": ["/*\n * Copyright (C) 2013 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as TextUtils from '../text_utils/text_utils.js';\nimport * as Workspace from '../workspace/workspace.js';\n\nimport type {IsolatedFileSystem} from './IsolatedFileSystem.js';\nimport {Events, type IsolatedFileSystemManager} from './IsolatedFileSystemManager.js';\nimport type {PlatformFileSystem} from './PlatformFileSystem.js';\n\nexport class FileSystemWorkspaceBinding {\n  readonly isolatedFileSystemManager: IsolatedFileSystemManager;\n  private readonly workspace: Workspace.Workspace.WorkspaceImpl;\n  private readonly eventListeners: Common.EventTarget.EventDescriptor[];\n  private readonly boundFileSystems: Map<string, FileSystem>;\n  constructor(isolatedFileSystemManager: IsolatedFileSystemManager, workspace: Workspace.Workspace.WorkspaceImpl) {\n    this.isolatedFileSystemManager = isolatedFileSystemManager;\n    this.workspace = workspace;\n    this.eventListeners = [\n      this.isolatedFileSystemManager.addEventListener(Events.FileSystemAdded, this.onFileSystemAdded, this),\n      this.isolatedFileSystemManager.addEventListener(Events.FileSystemRemoved, this.onFileSystemRemoved, this),\n      this.isolatedFileSystemManager.addEventListener(Events.FileSystemFilesChanged, this.fileSystemFilesChanged, this),\n    ];\n    this.boundFileSystems = new Map();\n    void this.isolatedFileSystemManager.waitForFileSystems().then(this.onFileSystemsLoaded.bind(this));\n  }\n\n  static projectId(fileSystemPath: Platform.DevToolsPath.UrlString): Platform.DevToolsPath.UrlString {\n    return fileSystemPath;\n  }\n\n  static relativePath(uiSourceCode: Workspace.UISourceCode.UISourceCode): Platform.DevToolsPath.EncodedPathString[] {\n    const baseURL = (uiSourceCode.project() as FileSystem).fileSystemBaseURL;\n    return Common.ParsedURL.ParsedURL.split(\n        Common.ParsedURL.ParsedURL.sliceUrlToEncodedPathString(uiSourceCode.url(), baseURL.length), '/');\n  }\n\n  static tooltipForUISourceCode(uiSourceCode: Workspace.UISourceCode.UISourceCode): string {\n    const fileSystem = (uiSourceCode.project() as FileSystem).fileSystemInternal;\n    return fileSystem.tooltipForURL(uiSourceCode.url());\n  }\n\n  static fileSystemType(project: Workspace.Workspace.Project): string {\n    const fileSystem = (project as FileSystem).fileSystemInternal;\n    return fileSystem.type();\n  }\n\n  static fileSystemSupportsAutomapping(project: Workspace.Workspace.Project): boolean {\n    const fileSystem = (project as FileSystem).fileSystemInternal;\n    return fileSystem.supportsAutomapping();\n  }\n\n  static completeURL(project: Workspace.Workspace.Project, relativePath: string): Platform.DevToolsPath.UrlString {\n    const fsProject = project as FileSystem;\n    return Common.ParsedURL.ParsedURL.concatenate(fsProject.fileSystemBaseURL, relativePath);\n  }\n\n  static fileSystemPath(projectId: Platform.DevToolsPath.UrlString): Platform.DevToolsPath.UrlString {\n    return projectId;\n  }\n\n  fileSystemManager(): IsolatedFileSystemManager {\n    return this.isolatedFileSystemManager;\n  }\n\n  private onFileSystemsLoaded(fileSystems: IsolatedFileSystem[]): void {\n    for (const fileSystem of fileSystems) {\n      this.addFileSystem(fileSystem);\n    }\n  }\n\n  private onFileSystemAdded(event: Common.EventTarget.EventTargetEvent<PlatformFileSystem>): void {\n    const fileSystem = event.data;\n    this.addFileSystem(fileSystem);\n  }\n\n  private addFileSystem(fileSystem: PlatformFileSystem): void {\n    const boundFileSystem = new FileSystem(this, fileSystem, this.workspace);\n    this.boundFileSystems.set(fileSystem.path(), boundFileSystem);\n  }\n\n  private onFileSystemRemoved(event: Common.EventTarget.EventTargetEvent<PlatformFileSystem>): void {\n    const fileSystem = event.data;\n    const boundFileSystem = this.boundFileSystems.get(fileSystem.path());\n    if (boundFileSystem) {\n      boundFileSystem.dispose();\n    }\n    this.boundFileSystems.delete(fileSystem.path());\n  }\n\n  private fileSystemFilesChanged(event: Common.EventTarget.EventTargetEvent<FilesChangedData>): void {\n    const paths = event.data;\n    for (const fileSystemPath of paths.changed.keysArray()) {\n      const fileSystem = this.boundFileSystems.get(fileSystemPath);\n      if (!fileSystem) {\n        continue;\n      }\n      paths.changed.get(fileSystemPath).forEach(path => fileSystem.fileChanged(path));\n    }\n\n    for (const fileSystemPath of paths.added.keysArray()) {\n      const fileSystem = this.boundFileSystems.get(fileSystemPath);\n      if (!fileSystem) {\n        continue;\n      }\n      paths.added.get(fileSystemPath).forEach(path => fileSystem.fileChanged(path));\n    }\n\n    for (const fileSystemPath of paths.removed.keysArray()) {\n      const fileSystem = this.boundFileSystems.get(fileSystemPath);\n      if (!fileSystem) {\n        continue;\n      }\n      paths.removed.get(fileSystemPath).forEach(path => fileSystem.removeUISourceCode(path));\n    }\n  }\n\n  dispose(): void {\n    Common.EventTarget.removeEventListeners(this.eventListeners);\n    for (const fileSystem of this.boundFileSystems.values()) {\n      fileSystem.dispose();\n      this.boundFileSystems.delete(fileSystem.fileSystemInternal.path());\n    }\n  }\n}\n\nexport class FileSystem extends Workspace.Workspace.ProjectStore {\n  readonly fileSystemInternal: PlatformFileSystem;\n  readonly fileSystemBaseURL: Platform.DevToolsPath.UrlString;\n  private readonly fileSystemParentURL: Platform.DevToolsPath.UrlString;\n  private readonly fileSystemWorkspaceBinding: FileSystemWorkspaceBinding;\n  private readonly fileSystemPathInternal: Platform.DevToolsPath.UrlString;\n  private readonly creatingFilesGuard: Set<string>;\n  constructor(\n      fileSystemWorkspaceBinding: FileSystemWorkspaceBinding, isolatedFileSystem: PlatformFileSystem,\n      workspace: Workspace.Workspace.WorkspaceImpl) {\n    const fileSystemPath = isolatedFileSystem.path();\n    const id = FileSystemWorkspaceBinding.projectId(fileSystemPath);\n    console.assert(!workspace.project(id));\n    const displayName = fileSystemPath.substr(fileSystemPath.lastIndexOf('/') + 1);\n\n    super(workspace, id, Workspace.Workspace.projectTypes.FileSystem, displayName);\n\n    this.fileSystemInternal = isolatedFileSystem;\n    this.fileSystemBaseURL = Common.ParsedURL.ParsedURL.concatenate(this.fileSystemInternal.path(), '/');\n    this.fileSystemParentURL =\n        Common.ParsedURL.ParsedURL.substr(this.fileSystemBaseURL, 0, fileSystemPath.lastIndexOf('/') + 1);\n    this.fileSystemWorkspaceBinding = fileSystemWorkspaceBinding;\n    this.fileSystemPathInternal = fileSystemPath;\n    this.creatingFilesGuard = new Set();\n\n    workspace.addProject(this);\n    this.populate();\n  }\n\n  fileSystemPath(): Platform.DevToolsPath.UrlString {\n    return this.fileSystemPathInternal;\n  }\n\n  fileSystem(): PlatformFileSystem {\n    return this.fileSystemInternal;\n  }\n\n  mimeType(uiSourceCode: Workspace.UISourceCode.UISourceCode): string {\n    return this.fileSystemInternal.mimeFromPath(uiSourceCode.url());\n  }\n\n  initialGitFolders(): Platform.DevToolsPath.UrlString[] {\n    return this.fileSystemInternal.initialGitFolders().map(\n        folder => Common.ParsedURL.ParsedURL.concatenate(this.fileSystemPathInternal, '/', folder));\n  }\n\n  private filePathForUISourceCode(uiSourceCode: Workspace.UISourceCode.UISourceCode):\n      Platform.DevToolsPath.EncodedPathString {\n    return Common.ParsedURL.ParsedURL.sliceUrlToEncodedPathString(\n        uiSourceCode.url(), this.fileSystemPathInternal.length);\n  }\n\n  isServiceProject(): boolean {\n    return false;\n  }\n\n  requestMetadata(uiSourceCode: Workspace.UISourceCode.UISourceCode):\n      Promise<Workspace.UISourceCode.UISourceCodeMetadata|null> {\n    const metadata = sourceCodeToMetadataMap.get(uiSourceCode);\n    if (metadata) {\n      return metadata;\n    }\n    const relativePath = this.filePathForUISourceCode(uiSourceCode);\n    const promise = this.fileSystemInternal.getMetadata(relativePath).then(onMetadata);\n    sourceCodeToMetadataMap.set(uiSourceCode, promise);\n    return promise;\n\n    function onMetadata(metadata: {modificationTime: Date, size: number}|\n                        null): Workspace.UISourceCode.UISourceCodeMetadata|null {\n      if (!metadata) {\n        return null;\n      }\n      return new Workspace.UISourceCode.UISourceCodeMetadata(metadata.modificationTime, metadata.size);\n    }\n  }\n\n  requestFileBlob(uiSourceCode: Workspace.UISourceCode.UISourceCode): Promise<Blob|null> {\n    return this.fileSystemInternal.requestFileBlob(this.filePathForUISourceCode(uiSourceCode));\n  }\n\n  requestFileContent(uiSourceCode: Workspace.UISourceCode.UISourceCode):\n      Promise<TextUtils.ContentData.ContentDataOrError> {\n    const filePath = this.filePathForUISourceCode(uiSourceCode);\n    return this.fileSystemInternal.requestFileContent(filePath);\n  }\n\n  canSetFileContent(): boolean {\n    return true;\n  }\n\n  async setFileContent(uiSourceCode: Workspace.UISourceCode.UISourceCode, newContent: string, isBase64: boolean):\n      Promise<void> {\n    const filePath = this.filePathForUISourceCode(uiSourceCode);\n    await this.fileSystemInternal.setFileContent(filePath, newContent, isBase64);\n  }\n\n  fullDisplayName(uiSourceCode: Workspace.UISourceCode.UISourceCode): string {\n    const baseURL = (uiSourceCode.project() as FileSystem).fileSystemParentURL;\n    return uiSourceCode.url().substring(baseURL.length);\n  }\n\n  canRename(): boolean {\n    return true;\n  }\n\n  override rename(\n      uiSourceCode: Workspace.UISourceCode.UISourceCode, newName: Platform.DevToolsPath.RawPathString,\n      callback:\n          (arg0: boolean, arg1?: string|undefined, arg2?: Platform.DevToolsPath.UrlString|undefined,\n           arg3?: Common.ResourceType.ResourceType|undefined) => void): void {\n    if (newName === uiSourceCode.name()) {\n      callback(true, uiSourceCode.name(), uiSourceCode.url(), uiSourceCode.contentType());\n      return;\n    }\n\n    let filePath = this.filePathForUISourceCode(uiSourceCode);\n    this.fileSystemInternal.renameFile(filePath, newName, innerCallback.bind(this));\n\n    function innerCallback(this: FileSystem, success: boolean, newName?: string): void {\n      if (!success || !newName) {\n        callback(false, newName);\n        return;\n      }\n      console.assert(Boolean(newName));\n      const slash = filePath.lastIndexOf('/');\n      const parentPath = Common.ParsedURL.ParsedURL.substr(filePath, 0, slash);\n      filePath = Common.ParsedURL.ParsedURL.encodedFromParentPathAndName(parentPath, newName);\n      filePath = Common.ParsedURL.ParsedURL.substr(filePath, 1);\n      const newURL = Common.ParsedURL.ParsedURL.concatenate(this.fileSystemBaseURL, filePath);\n      const newContentType = this.fileSystemInternal.contentType(newName);\n      this.renameUISourceCode(uiSourceCode, newName);\n      callback(true, newName, newURL, newContentType);\n    }\n  }\n\n  async searchInFileContent(\n      uiSourceCode: Workspace.UISourceCode.UISourceCode, query: string, caseSensitive: boolean,\n      isRegex: boolean): Promise<TextUtils.ContentProvider.SearchMatch[]> {\n    const filePath = this.filePathForUISourceCode(uiSourceCode);\n    const content = await this.fileSystemInternal.requestFileContent(filePath);\n    return TextUtils.TextUtils.performSearchInContentData(content, query, caseSensitive, isRegex);\n  }\n\n  async findFilesMatchingSearchRequest(\n      searchConfig: Workspace.SearchConfig.SearchConfig, filesMatchingFileQuery: Workspace.UISourceCode.UISourceCode[],\n      progress: Common.Progress.Progress):\n      Promise<Map<Workspace.UISourceCode.UISourceCode, TextUtils.ContentProvider.SearchMatch[]|null>> {\n    let workingFileSet: string[] = filesMatchingFileQuery.map(uiSoureCode => uiSoureCode.url());\n    const queriesToRun = searchConfig.queries().slice();\n    if (!queriesToRun.length) {\n      queriesToRun.push('');\n    }\n    progress.setTotalWork(queriesToRun.length);\n\n    for (const query of queriesToRun) {\n      const files = await this.fileSystemInternal.searchInPath(searchConfig.isRegex() ? '' : query, progress);\n      files.sort(Platform.StringUtilities.naturalOrderComparator);\n      workingFileSet = Platform.ArrayUtilities.intersectOrdered(\n          workingFileSet, files, Platform.StringUtilities.naturalOrderComparator);\n      progress.incrementWorked(1);\n    }\n\n    const result = new Map();\n    for (const file of workingFileSet) {\n      const uiSourceCode = this.uiSourceCodeForURL(file as Platform.DevToolsPath.UrlString);\n      if (uiSourceCode) {\n        result.set(uiSourceCode, null);\n      }\n    }\n\n    progress.done();\n    return result;\n  }\n\n  override indexContent(progress: Common.Progress.Progress): void {\n    this.fileSystemInternal.indexContent(progress);\n  }\n\n  populate(): void {\n    const filePaths = this.fileSystemInternal.initialFilePaths();\n    if (filePaths.length === 0) {\n      return;\n    }\n\n    const chunkSize = 1000;\n    const startTime = performance.now();\n    reportFileChunk.call(this, 0);\n\n    function reportFileChunk(this: FileSystem, from: number): void {\n      const to = Math.min(from + chunkSize, filePaths.length);\n      for (let i = from; i < to; ++i) {\n        this.addFile(filePaths[i]);\n      }\n      if (to < filePaths.length) {\n        window.setTimeout(reportFileChunk.bind(this, to), 100);\n      } else if (this.type() === 'filesystem') {\n        Host.userMetrics.workspacesPopulated(performance.now() - startTime);\n      }\n    }\n  }\n\n  override excludeFolder(url: Platform.DevToolsPath.UrlString): void {\n    let relativeFolder = Common.ParsedURL.ParsedURL.sliceUrlToEncodedPathString(url, this.fileSystemBaseURL.length);\n    if (!relativeFolder.startsWith('/')) {\n      relativeFolder = Common.ParsedURL.ParsedURL.prepend('/', relativeFolder);\n    }\n    if (!relativeFolder.endsWith('/')) {\n      relativeFolder = Common.ParsedURL.ParsedURL.concatenate(relativeFolder, '/');\n    }\n    this.fileSystemInternal.addExcludedFolder(relativeFolder);\n\n    for (const uiSourceCode of this.uiSourceCodes()) {\n      if (uiSourceCode.url().startsWith(url)) {\n        this.removeUISourceCode(uiSourceCode.url());\n      }\n    }\n  }\n\n  canExcludeFolder(path: Platform.DevToolsPath.EncodedPathString): boolean {\n    return this.fileSystemInternal.canExcludeFolder(path);\n  }\n\n  canCreateFile(): boolean {\n    return true;\n  }\n\n  async createFile(\n      path: Platform.DevToolsPath.EncodedPathString, name: Platform.DevToolsPath.RawPathString|null, content: string,\n      isBase64?: boolean): Promise<Workspace.UISourceCode.UISourceCode|null> {\n    const guardFileName = this.fileSystemPathInternal + path + (!path.endsWith('/') ? '/' : '') + name;\n    this.creatingFilesGuard.add(guardFileName);\n    const filePath = await this.fileSystemInternal.createFile(path, name);\n    if (!filePath) {\n      return null;\n    }\n    const uiSourceCode = this.addFile(filePath, content, isBase64);\n    this.creatingFilesGuard.delete(guardFileName);\n    return uiSourceCode;\n  }\n\n  override deleteFile(uiSourceCode: Workspace.UISourceCode.UISourceCode): void {\n    const relativePath = this.filePathForUISourceCode(uiSourceCode);\n    void this.fileSystemInternal.deleteFile(relativePath).then(success => {\n      if (success) {\n        this.removeUISourceCode(uiSourceCode.url());\n      }\n    });\n  }\n\n  override deleteDirectoryRecursively(path: Platform.DevToolsPath.EncodedPathString): Promise<boolean> {\n    return this.fileSystemInternal.deleteDirectoryRecursively(path);\n  }\n\n  override remove(): void {\n    this.fileSystemWorkspaceBinding.isolatedFileSystemManager.removeFileSystem(this.fileSystemInternal);\n  }\n\n  private addFile(filePath: Platform.DevToolsPath.EncodedPathString, content?: string, isBase64?: boolean):\n      Workspace.UISourceCode.UISourceCode {\n    const contentType = this.fileSystemInternal.contentType(filePath);\n    const uiSourceCode =\n        this.createUISourceCode(Common.ParsedURL.ParsedURL.concatenate(this.fileSystemBaseURL, filePath), contentType);\n    if (content !== undefined) {\n      uiSourceCode.setContent(content, Boolean(isBase64));\n    }\n    this.addUISourceCode(uiSourceCode);\n    return uiSourceCode;\n  }\n\n  fileChanged(path: Platform.DevToolsPath.UrlString): void {\n    // Ignore files that are being created but do not have content yet.\n    if (this.creatingFilesGuard.has(path)) {\n      return;\n    }\n    const uiSourceCode = this.uiSourceCodeForURL(path);\n    if (!uiSourceCode) {\n      const contentType = this.fileSystemInternal.contentType(path);\n      this.addUISourceCode(this.createUISourceCode(path, contentType));\n      return;\n    }\n    sourceCodeToMetadataMap.delete(uiSourceCode);\n    void uiSourceCode.checkContentUpdated();\n  }\n\n  tooltipForURL(url: Platform.DevToolsPath.UrlString): string {\n    return this.fileSystemInternal.tooltipForURL(url);\n  }\n\n  dispose(): void {\n    this.removeProject();\n  }\n}\n\nconst sourceCodeToMetadataMap =\n    new WeakMap<Workspace.UISourceCode.UISourceCode, Promise<Workspace.UISourceCode.UISourceCodeMetadata|null>>();\nexport interface FilesChangedData {\n  changed: Platform.MapUtilities.Multimap<Platform.DevToolsPath.UrlString, Platform.DevToolsPath.UrlString>;\n  added: Platform.MapUtilities.Multimap<Platform.DevToolsPath.UrlString, Platform.DevToolsPath.UrlString>;\n  removed: Platform.MapUtilities.Multimap<Platform.DevToolsPath.UrlString, Platform.DevToolsPath.UrlString>;\n}\n"],
  "mappings": "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",
  "names": ["metadata", "newName"]
}
