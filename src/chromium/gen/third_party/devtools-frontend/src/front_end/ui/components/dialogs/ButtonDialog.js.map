{
  "version": 3,
  "sources": ["../../../../../../../../../../third_party/devtools-frontend/src/front_end/ui/components/dialogs/ButtonDialog.ts"],
  "sourcesContent": ["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Buttons from '../../../ui/components/buttons/buttons.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\n\nimport buttonDialogStyles from './buttonDialog.css.js';\nimport {\n  type ClickOutsideDialogEvent,\n  type Dialog as DialogElement,\n  DialogHorizontalAlignment,\n  DialogVerticalPosition,\n} from './Dialog.js';\n\nconst {html} = LitHtml;\n\nexport interface ButtonDialogData {\n  openOnRender?: boolean;\n  jslogContext?: string;\n  // The below are parts of ButtonData. See comments of ButtonData.\n  variant: Buttons.Button.Variant.PRIMARY_TOOLBAR|Buttons.Button.Variant.TOOLBAR|Buttons.Button.Variant.ICON;\n  iconName: string;\n  disabled?: boolean;\n  iconTitle?: string;\n  // The below are parts of DialogData. See comments of DialogData.\n  position?: DialogVerticalPosition;\n  horizontalAlignment?: DialogHorizontalAlignment;\n  closeOnESC?: boolean;\n  closeOnScroll?: boolean;\n  closeButton?: boolean;\n  dialogTitle: string;\n}\n\nexport class ButtonDialog extends HTMLElement {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  readonly #renderBound = this.#render.bind(this);\n\n  #dialog: DialogElement|null = null;\n  #showButton: Buttons.Button.Button|null = null;\n  #data: ButtonDialogData|null = null;\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [buttonDialogStyles];\n  }\n\n  set data(data: ButtonDialogData) {\n    this.#data = data;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  #showDialog(): void {\n    if (!this.#dialog) {\n      throw new Error('Dialog not found');\n    }\n    void this.#dialog.setDialogVisible(true);\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  #closeDialog(evt?: ClickOutsideDialogEvent): void {\n    if (!this.#dialog) {\n      throw new Error('Dialog not found');\n    }\n    void this.#dialog.setDialogVisible(false);\n    if (evt) {\n      evt.stopImmediatePropagation();\n    }\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  #render(): void {\n    if (!this.#data) {\n      throw new Error('ButtonDialog.data is not set');\n    }\n    if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n      throw new Error('Button dialog render was not scheduled');\n    }\n\n    // clang-format off\n    LitHtml.render(\n      html`\n      <devtools-button\n        @click=${this.#showDialog}\n        on-render=${ComponentHelpers.Directives.nodeRenderedCallback(node => {\n          this.#showButton = node as Buttons.Button.Button;\n        })}\n        .data=${{\n          variant: this.#data.variant,\n          iconName: this.#data.iconName,\n          disabled: this.#data.disabled,\n          title: this.#data.iconTitle,\n          jslogContext: this.#data.jslogContext,\n        } as Buttons.Button.ButtonData}\n      ></devtools-button>\n      <devtools-dialog\n        @clickoutsidedialog=${this.#closeDialog}\n        .origin=${() => {\n          if (!this.#showButton) {\n            throw new Error('Button not found');\n          }\n          return this.#showButton;\n        }}\n        .position=${this.#data.position ?? DialogVerticalPosition.BOTTOM}\n        .horizontalAlignment=${this.#data.horizontalAlignment ?? DialogHorizontalAlignment.RIGHT}\n        .closeOnESC=${this.#data.closeOnESC ?? false}\n        .closeOnScroll=${this.#data.closeOnScroll ?? false}\n        .closeButton=${this.#data.closeButton ?? false}\n        .dialogTitle=${this.#data.dialogTitle}\n        .jslogContext=${this.#data.jslogContext ?? ''}\n        on-render=${ComponentHelpers.Directives.nodeRenderedCallback(node => {\n          this.#dialog = node as DialogElement;\n        })}\n      >\n        <slot></slot>\n      </devtools-dialog>\n      `,\n      this.#shadow, {host: this});\n    // clang-format on\n\n    if (this.#data.openOnRender) {\n      this.#showDialog();\n      this.#data.openOnRender = false;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-button-dialog': ButtonDialog;\n  }\n}\ncustomElements.define('devtools-button-dialog', ButtonDialog);\n"],
  "mappings": ";AAKA,YAAY,sBAAsB;AAClC,YAAY,aAAa;AAEzB,OAAO,wBAAwB;AAC/B;AAAA,EAGE;AAAA,EACA;AAAA,OACK;AAEP,MAAM,EAAC,KAAI,IAAI;AAmBR,aAAM,qBAAqB,YAAY;AAAA,EACnC,UAAU,KAAK,aAAa,EAAC,MAAM,OAAM,CAAC;AAAA,EAC1C,eAAe,KAAK,QAAQ,KAAK,IAAI;AAAA,EAE9C,UAA8B;AAAA,EAC9B,cAA0C;AAAA,EAC1C,QAA+B;AAAA,EAE/B,oBAA0B;AACxB,SAAK,QAAQ,qBAAqB,CAAC,kBAAkB;AAAA,EACvD;AAAA,EAEA,IAAI,KAAK,MAAwB;AAC/B,SAAK,QAAQ;AACb,SAAK,iBAAiB,gBAAgB,eAAe,MAAM,KAAK,YAAY;AAAA,EAC9E;AAAA,EAEA,cAAoB;AAClB,QAAI,CAAC,KAAK,SAAS;AACjB,YAAM,IAAI,MAAM,kBAAkB;AAAA,IACpC;AACA,SAAK,KAAK,QAAQ,iBAAiB,IAAI;AACvC,SAAK,iBAAiB,gBAAgB,eAAe,MAAM,KAAK,YAAY;AAAA,EAC9E;AAAA,EAEA,aAAa,KAAqC;AAChD,QAAI,CAAC,KAAK,SAAS;AACjB,YAAM,IAAI,MAAM,kBAAkB;AAAA,IACpC;AACA,SAAK,KAAK,QAAQ,iBAAiB,KAAK;AACxC,QAAI,KAAK;AACP,UAAI,yBAAyB;AAAA,IAC/B;AACA,SAAK,iBAAiB,gBAAgB,eAAe,MAAM,KAAK,YAAY;AAAA,EAC9E;AAAA,EAEA,UAAgB;AACd,QAAI,CAAC,KAAK,OAAO;AACf,YAAM,IAAI,MAAM,8BAA8B;AAAA,IAChD;AACA,QAAI,CAAC,iBAAiB,gBAAgB,kBAAkB,IAAI,GAAG;AAC7D,YAAM,IAAI,MAAM,wCAAwC;AAAA,IAC1D;AAGA,YAAQ;AAAA,MACN;AAAA;AAAA,iBAEW,KAAK,WAAW;AAAA,oBACb,iBAAiB,WAAW,qBAAqB,UAAQ;AACnE,aAAK,cAAc;AAAA,MACrB,CAAC,CAAC;AAAA,gBACM;AAAA,QACN,SAAS,KAAK,MAAM;AAAA,QACpB,UAAU,KAAK,MAAM;AAAA,QACrB,UAAU,KAAK,MAAM;AAAA,QACrB,OAAO,KAAK,MAAM;AAAA,QAClB,cAAc,KAAK,MAAM;AAAA,MAC3B,CAA8B;AAAA;AAAA;AAAA,8BAGR,KAAK,YAAY;AAAA,kBAC7B,MAAM;AACd,YAAI,CAAC,KAAK,aAAa;AACrB,gBAAM,IAAI,MAAM,kBAAkB;AAAA,QACpC;AACA,eAAO,KAAK;AAAA,MACd,CAAC;AAAA,oBACW,KAAK,MAAM,YAAY,uBAAuB,MAAM;AAAA,+BACzC,KAAK,MAAM,uBAAuB,0BAA0B,KAAK;AAAA,sBAC1E,KAAK,MAAM,cAAc,KAAK;AAAA,yBAC3B,KAAK,MAAM,iBAAiB,KAAK;AAAA,uBACnC,KAAK,MAAM,eAAe,KAAK;AAAA,uBAC/B,KAAK,MAAM,WAAW;AAAA,wBACrB,KAAK,MAAM,gBAAgB,EAAE;AAAA,oBACjC,iBAAiB,WAAW,qBAAqB,UAAQ;AACnE,aAAK,UAAU;AAAA,MACjB,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,MAKJ,KAAK;AAAA,MAAS,EAAC,MAAM,KAAI;AAAA,IAAC;AAG5B,QAAI,KAAK,MAAM,cAAc;AAC3B,WAAK,YAAY;AACjB,WAAK,MAAM,eAAe;AAAA,IAC5B;AAAA,EACF;AACF;AAOA,eAAe,OAAO,0BAA0B,YAAY;",
  "names": []
}
