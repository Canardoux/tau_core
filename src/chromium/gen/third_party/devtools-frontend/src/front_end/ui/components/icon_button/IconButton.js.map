{
  "version": 3,
  "sources": ["../../../../../../../../../../third_party/devtools-frontend/src/front_end/ui/components/icon_button/IconButton.ts"],
  "sourcesContent": ["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport './Icon.js';\n\nimport * as LitHtml from '../../lit-html/lit-html.js';\n\nimport type {IconData} from './Icon.js';\nimport iconButtonStyles from './iconButton.css.js';\n\nconst {html} = LitHtml;\n\nexport interface IconWithTextData {\n  iconName: string;\n  iconColor?: string;\n  iconWidth?: string;\n  iconHeight?: string;\n  text?: string;\n}\n\nexport interface IconButtonData {\n  clickHandler?: () => void;\n  groups: IconWithTextData[];\n  leadingText?: string;\n  trailingText?: string;\n  accessibleName?: string;\n  compact?: boolean;\n}\n\nexport class IconButton extends HTMLElement {\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #clickHandler: undefined|(() => void) = undefined;\n  #groups: IconWithTextData[] = [];\n  #compact: boolean = false;\n  #leadingText: string = '';\n  #trailingText: string = '';\n  #accessibleName: string|undefined;\n\n  set data(data: IconButtonData) {\n    this.#groups = data.groups.map(group => ({...group}));  // Ensure we make a deep copy.\n    this.#clickHandler = data.clickHandler;\n    this.#trailingText = data.trailingText ?? '';\n    this.#leadingText = data.leadingText ?? '';\n    this.#accessibleName = data.accessibleName;\n    this.#compact = Boolean(data.compact);\n    this.#render();\n  }\n\n  get data(): IconButtonData {\n    return {\n      groups: this.#groups.map(group => ({...group})),  // Ensure we make a deep copy.\n      accessibleName: this.#accessibleName,\n      clickHandler: this.#clickHandler,\n      leadingText: this.#leadingText,\n      trailingText: this.#trailingText,\n      compact: this.#compact,\n    };\n  }\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [iconButtonStyles];\n  }\n\n  #onClickHandler(event: Event): void {\n    if (this.#clickHandler) {\n      event.preventDefault();\n      this.#clickHandler();\n    }\n  }\n\n  #render(): void {\n    const buttonClasses = LitHtml.Directives.classMap({\n      'icon-button': true,\n      'with-click-handler': Boolean(this.#clickHandler),\n      compact: this.#compact,\n    });\n    const filteredGroups = this.#groups.filter(counter => counter.text !== undefined)\n                               .filter((_, index) => this.#compact ? index === 0 : true);\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    LitHtml.render(html`\n      <button class=${buttonClasses} @click=${this.#onClickHandler} aria-label=${LitHtml.Directives.ifDefined(this.#accessibleName)}>\n      ${(!this.#compact && this.#leadingText) ? html`<span class=\"icon-button-title\">${this.#leadingText}</span>` : LitHtml.nothing}\n      ${filteredGroups.map(counter =>\n      html`\n      <devtools-icon class=\"status-icon\"\n      .data=${{iconName: counter.iconName, color: counter.iconColor, width: counter.iconWidth || '1.5ex', height: counter.iconHeight || '1.5ex'} as IconData}>\n      </devtools-icon>\n      ${this.#compact ? html`<!-- Force line-height for this element --><span>&#8203;</span>` : LitHtml.nothing}\n      <span class=\"icon-button-title\">${counter.text}</span>`,\n      )}\n      </button>\n      ${(!this.#compact && this.#trailingText) ? html`<span class=\"icon-button-title\">${this.#trailingText}</span>` : LitHtml.nothing}\n    `, this.#shadow, { host: this});\n    // clang-format on\n  }\n}\n\ncustomElements.define('icon-button', IconButton);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'icon-button': IconButton;\n  }\n}\n"],
  "mappings": ";AAIA,OAAO;AAEP,YAAY,aAAa;AAGzB,OAAO,sBAAsB;AAE7B,MAAM,EAAC,KAAI,IAAI;AAmBR,aAAM,mBAAmB,YAAY;AAAA,EACjC,UAAU,KAAK,aAAa,EAAC,MAAM,OAAM,CAAC;AAAA,EACnD,gBAAwC;AAAA,EACxC,UAA8B,CAAC;AAAA,EAC/B,WAAoB;AAAA,EACpB,eAAuB;AAAA,EACvB,gBAAwB;AAAA,EACxB;AAAA,EAEA,IAAI,KAAK,MAAsB;AAC7B,SAAK,UAAU,KAAK,OAAO,IAAI,YAAU,EAAC,GAAG,MAAK,EAAE;AACpD,SAAK,gBAAgB,KAAK;AAC1B,SAAK,gBAAgB,KAAK,gBAAgB;AAC1C,SAAK,eAAe,KAAK,eAAe;AACxC,SAAK,kBAAkB,KAAK;AAC5B,SAAK,WAAW,QAAQ,KAAK,OAAO;AACpC,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,IAAI,OAAuB;AACzB,WAAO;AAAA,MACL,QAAQ,KAAK,QAAQ,IAAI,YAAU,EAAC,GAAG,MAAK,EAAE;AAAA;AAAA,MAC9C,gBAAgB,KAAK;AAAA,MACrB,cAAc,KAAK;AAAA,MACnB,aAAa,KAAK;AAAA,MAClB,cAAc,KAAK;AAAA,MACnB,SAAS,KAAK;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,oBAA0B;AACxB,SAAK,QAAQ,qBAAqB,CAAC,gBAAgB;AAAA,EACrD;AAAA,EAEA,gBAAgB,OAAoB;AAClC,QAAI,KAAK,eAAe;AACtB,YAAM,eAAe;AACrB,WAAK,cAAc;AAAA,IACrB;AAAA,EACF;AAAA,EAEA,UAAgB;AACd,UAAM,gBAAgB,QAAQ,WAAW,SAAS;AAAA,MAChD,eAAe;AAAA,MACf,sBAAsB,QAAQ,KAAK,aAAa;AAAA,MAChD,SAAS,KAAK;AAAA,IAChB,CAAC;AACD,UAAM,iBAAiB,KAAK,QAAQ,OAAO,aAAW,QAAQ,SAAS,MAAS,EACpD,OAAO,CAAC,GAAG,UAAU,KAAK,WAAW,UAAU,IAAI,IAAI;AAGnF,YAAQ,OAAO;AAAA,sBACG,aAAa,WAAW,KAAK,eAAe,eAAe,QAAQ,WAAW,UAAU,KAAK,eAAe,CAAC;AAAA,QAC1H,CAAC,KAAK,YAAY,KAAK,eAAgB,uCAAuC,KAAK,YAAY,YAAY,QAAQ,OAAO;AAAA,QAC3H,eAAe;AAAA,MAAI,aACrB;AAAA;AAAA,cAEQ,EAAC,UAAU,QAAQ,UAAU,OAAO,QAAQ,WAAW,OAAO,QAAQ,aAAa,SAAS,QAAQ,QAAQ,cAAc,QAAO,CAAa;AAAA;AAAA,QAEpJ,KAAK,WAAW,wEAAwE,QAAQ,OAAO;AAAA,wCACvE,QAAQ,IAAI;AAAA,IAC9C,CAAC;AAAA;AAAA,QAEE,CAAC,KAAK,YAAY,KAAK,gBAAiB,uCAAuC,KAAK,aAAa,YAAY,QAAQ,OAAO;AAAA,OAC9H,KAAK,SAAS,EAAE,MAAM,KAAI,CAAC;AAAA,EAEhC;AACF;AAEA,eAAe,OAAO,eAAe,UAAU;",
  "names": []
}
