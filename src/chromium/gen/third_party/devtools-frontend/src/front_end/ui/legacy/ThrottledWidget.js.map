{
  "version": 3,
  "sources": ["../../../../../../../../../third_party/devtools-frontend/src/front_end/ui/legacy/ThrottledWidget.ts"],
  "sourcesContent": ["// Copyright 2014 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport {VBox} from './Widget.js';\n\nexport class ThrottledWidget extends VBox {\n  private readonly updateThrottler: Common.Throttler.Throttler;\n  private updateWhenVisible: boolean;\n  protected lastUpdatePromise: Promise<void> = Promise.resolve();\n\n  constructor(useShadowDom?: boolean, timeout?: number) {\n    super(useShadowDom);\n    this.updateThrottler = new Common.Throttler.Throttler(timeout === undefined ? 100 : timeout);\n    this.updateWhenVisible = false;\n  }\n\n  protected override doUpdate(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  override update(): void {\n    this.updateWhenVisible = !this.isShowing();\n    if (this.updateWhenVisible) {\n      return;\n    }\n    this.lastUpdatePromise = this.updateThrottler.schedule(() => {\n      if (this.isShowing()) {\n        return this.doUpdate();\n      }\n      this.updateWhenVisible = true;\n      return Promise.resolve();\n    });\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    if (this.updateWhenVisible) {\n      this.update();\n    }\n  }\n}\n"],
  "mappings": ";AAIA,YAAY,YAAY;AACxB,SAAQ,YAAW;AAEZ,aAAM,wBAAwB,KAAK;AAAA,EACvB;AAAA,EACT;AAAA,EACE,oBAAmC,QAAQ,QAAQ;AAAA,EAE7D,YAAY,cAAwB,SAAkB;AACpD,UAAM,YAAY;AAClB,SAAK,kBAAkB,IAAI,OAAO,UAAU,UAAU,YAAY,SAAY,MAAM,OAAO;AAC3F,SAAK,oBAAoB;AAAA,EAC3B;AAAA,EAEmB,WAA0B;AAC3C,WAAO,QAAQ,QAAQ;AAAA,EACzB;AAAA,EAES,SAAe;AACtB,SAAK,oBAAoB,CAAC,KAAK,UAAU;AACzC,QAAI,KAAK,mBAAmB;AAC1B;AAAA,IACF;AACA,SAAK,oBAAoB,KAAK,gBAAgB,SAAS,MAAM;AAC3D,UAAI,KAAK,UAAU,GAAG;AACpB,eAAO,KAAK,SAAS;AAAA,MACvB;AACA,WAAK,oBAAoB;AACzB,aAAO,QAAQ,QAAQ;AAAA,IACzB,CAAC;AAAA,EACH;AAAA,EAES,WAAiB;AACxB,UAAM,SAAS;AACf,QAAI,KAAK,mBAAmB;AAC1B,WAAK,OAAO;AAAA,IACd;AAAA,EACF;AACF;",
  "names": []
}
