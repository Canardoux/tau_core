{
  "version": 3,
  "sources": ["../../../../../../../../../third_party/devtools-frontend/src/front_end/ui/legacy/TabbedPane.ts"],
  "sourcesContent": ["/*\n * Copyright (C) 2010 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Buttons from '../../ui/components/buttons/buttons.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\nimport * as IconButton from '../components/icon_button/icon_button.js';\n\nimport * as ARIAUtils from './ARIAUtils.js';\nimport {ContextMenu} from './ContextMenu.js';\nimport {Constraints, Size} from './Geometry.js';\nimport tabbedPaneStyles from './tabbedPane.css.legacy.js';\nimport {Toolbar} from './Toolbar.js';\nimport {Tooltip} from './Tooltip.js';\nimport {installDragHandle, invokeOnceAfterBatchUpdate} from './UIUtils.js';\nimport {VBox, type Widget} from './Widget.js';\nimport {Events as ZoomManagerEvents, ZoomManager} from './ZoomManager.js';\n\nconst UIStrings = {\n  /**\n   *@description The aria label for the button to open more tabs at the right tabbed pane in Elements tools\n   */\n  moreTabs: 'More tabs',\n  /**\n   *@description Text in Tabbed Pane\n   *@example {tab} PH1\n   */\n  closeS: 'Close {PH1}',\n  /**\n   *@description Text to close something\n   */\n  close: 'Close',\n  /**\n   *@description Text on a menu option to close other drawers when right click on a drawer title\n   */\n  closeOthers: 'Close others',\n  /**\n   *@description Text on a menu option to close the drawer to the right when right click on a drawer title\n   */\n  closeTabsToTheRight: 'Close tabs to the right',\n  /**\n   *@description Text on a menu option to close all the drawers except Console when right click on a drawer title\n   */\n  closeAll: 'Close all',\n  /**\n   *@description Indicates that a tab contains a preview feature (i.e., a beta / experimental feature).\n   */\n  previewFeature: 'Preview feature',\n};\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/TabbedPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class TabbedPane extends Common.ObjectWrapper.eventMixin<EventTypes, typeof VBox>(VBox) {\n  private readonly headerElementInternal: HTMLElement;\n  private readonly headerContentsElement: HTMLElement;\n  tabSlider: HTMLDivElement;\n  readonly tabsElement: HTMLElement;\n  private readonly contentElementInternal: HTMLElement;\n  private tabs: TabbedPaneTab[];\n  private readonly tabsHistory: TabbedPaneTab[];\n  tabsById: Map<string, TabbedPaneTab>;\n  private currentTabLocked: boolean;\n  private autoSelectFirstItemOnShow: boolean;\n  private triggerDropDownTimeout: number|null;\n  private dropDownButton: HTMLDivElement;\n  private currentDevicePixelRatio: number;\n  private shrinkableTabs?: boolean;\n  private verticalTabLayout?: boolean;\n  private closeableTabs?: boolean;\n  private delegate?: TabbedPaneTabDelegate;\n  private currentTab?: TabbedPaneTab;\n  private sliderEnabled?: boolean;\n  private placeholderElement?: Element;\n  private focusedPlaceholderElement?: Element;\n  private placeholderContainerElement?: HTMLElement;\n  private lastSelectedOverflowTab?: TabbedPaneTab;\n  private overflowDisabled?: boolean;\n  private measuredDropDownButtonWidth?: number;\n  private leftToolbarInternal?: Toolbar;\n  private rightToolbarInternal?: Toolbar;\n  allowTabReorder?: boolean;\n  private automaticReorder?: boolean;\n\n  constructor() {\n    super(true);\n    this.registerRequiredCSS(tabbedPaneStyles);\n    this.element.classList.add('tabbed-pane');\n    this.contentElement.classList.add('tabbed-pane-shadow');\n    this.contentElement.tabIndex = -1;\n    this.setDefaultFocusedElement(this.contentElement);\n    this.headerElementInternal = this.contentElement.createChild('div', 'tabbed-pane-header');\n    this.headerContentsElement = this.headerElementInternal.createChild('div', 'tabbed-pane-header-contents');\n    this.tabSlider = document.createElement('div');\n    this.tabSlider.classList.add('tabbed-pane-tab-slider');\n    this.tabsElement = this.headerContentsElement.createChild('div', 'tabbed-pane-header-tabs');\n    this.tabsElement.setAttribute('role', 'tablist');\n    this.tabsElement.addEventListener('keydown', this.keyDown.bind(this), false);\n    this.contentElementInternal = this.contentElement.createChild('div', 'tabbed-pane-content') as HTMLDivElement;\n    this.contentElementInternal.createChild('slot');\n    this.tabs = [];\n    this.tabsHistory = [];\n    this.tabsById = new Map();\n    this.currentTabLocked = false;\n    this.autoSelectFirstItemOnShow = true;\n\n    this.triggerDropDownTimeout = null;\n    this.dropDownButton = this.createDropDownButton();\n    this.currentDevicePixelRatio = window.devicePixelRatio;\n    ZoomManager.instance().addEventListener(ZoomManagerEvents.ZOOM_CHANGED, this.zoomChanged, this);\n    this.makeTabSlider();\n  }\n\n  setAccessibleName(name: string): void {\n    ARIAUtils.setLabel(this.tabsElement, name);\n  }\n\n  setCurrentTabLocked(locked: boolean): void {\n    this.currentTabLocked = locked;\n    this.headerElementInternal.classList.toggle('locked', this.currentTabLocked);\n  }\n\n  setAutoSelectFirstItemOnShow(autoSelect: boolean): void {\n    this.autoSelectFirstItemOnShow = autoSelect;\n  }\n\n  get visibleView(): Widget|null {\n    return this.currentTab ? this.currentTab.view : null;\n  }\n\n  tabIds(): string[] {\n    return this.tabs.map(tab => tab.id);\n  }\n\n  tabIndex(tabId: string): number {\n    return this.tabs.findIndex(tab => tab.id === tabId);\n  }\n\n  tabViews(): Widget[] {\n    return this.tabs.map(tab => tab.view);\n  }\n\n  tabView(tabId: string): Widget|null {\n    const tab = this.tabsById.get(tabId);\n    return tab ? tab.view : null;\n  }\n\n  get selectedTabId(): string|null {\n    return this.currentTab ? this.currentTab.id : null;\n  }\n\n  setShrinkableTabs(shrinkableTabs: boolean): void {\n    this.shrinkableTabs = shrinkableTabs;\n  }\n\n  makeVerticalTabLayout(): void {\n    this.verticalTabLayout = true;\n    this.setTabSlider(false);\n    this.contentElement.classList.add('vertical-tab-layout');\n    this.invalidateConstraints();\n  }\n\n  setCloseableTabs(closeableTabs: boolean): void {\n    this.closeableTabs = closeableTabs;\n  }\n\n  override focus(): void {\n    if (this.visibleView) {\n      this.visibleView.focus();\n    } else {\n      this.contentElement.focus();\n    }\n  }\n\n  focusSelectedTabHeader(): void {\n    const selectedTab = this.currentTab;\n    if (selectedTab) {\n      selectedTab.tabElement.focus();\n    }\n  }\n\n  headerElement(): Element {\n    return this.headerElementInternal;\n  }\n\n  tabbedPaneContentElement(): Element {\n    return this.contentElementInternal;\n  }\n\n  isTabCloseable(id: string): boolean {\n    const tab = this.tabsById.get(id);\n    return tab ? tab.isCloseable() : false;\n  }\n\n  setTabDelegate(delegate: TabbedPaneTabDelegate): void {\n    const tabs = this.tabs.slice();\n    for (let i = 0; i < tabs.length; ++i) {\n      tabs[i].setDelegate(delegate);\n    }\n    this.delegate = delegate;\n  }\n\n  appendTab(\n      id: string, tabTitle: string, view: Widget, tabTooltip?: string, userGesture?: boolean, isCloseable?: boolean,\n      isPreviewFeature?: boolean, index?: number, jslogContext?: string): void {\n    const closeable = typeof isCloseable === 'boolean' ? isCloseable : Boolean(this.closeableTabs);\n    const tab =\n        new TabbedPaneTab(this, id, tabTitle, closeable, Boolean(isPreviewFeature), view, tabTooltip, jslogContext);\n    tab.setDelegate((this.delegate as TabbedPaneTabDelegate));\n    console.assert(!this.tabsById.has(id), `Tabbed pane already contains a tab with id '${id}'`);\n    this.tabsById.set(id, tab);\n    tab.tabElement.tabIndex = -1;\n    tab.tabElement.setAttribute(\n        'jslog', `${VisualLogging.panelTabHeader().track({click: true, drag: true}).context(tab.jslogContext)}`);\n    if (index !== undefined) {\n      this.tabs.splice(index, 0, tab);\n    } else {\n      this.tabs.push(tab);\n    }\n    this.tabsHistory.push(tab);\n    if (this.tabsHistory[0] === tab && this.isShowing()) {\n      this.selectTab(tab.id, userGesture);\n    }\n    this.updateTabElements();\n  }\n\n  closeTab(id: string, userGesture?: boolean): void {\n    this.closeTabs([id], userGesture);\n  }\n\n  closeTabs(ids: string[], userGesture?: boolean): void {\n    if (ids.length === 0) {\n      return;\n    }\n\n    const focused = this.hasFocus();\n    for (let i = 0; i < ids.length; ++i) {\n      this.innerCloseTab(ids[i], userGesture);\n    }\n    this.updateTabElements();\n    if (this.tabsHistory.length) {\n      this.selectTab(this.tabsHistory[0].id, false);\n    }\n    if (focused) {\n      this.focus();\n    }\n  }\n\n  private innerCloseTab(id: string, userGesture?: boolean): true|undefined {\n    const tab = this.tabsById.get(id);\n    if (!tab) {\n      return;\n    }\n    if (userGesture && !tab.closeable) {\n      return;\n    }\n    if (this.currentTab && this.currentTab.id === id) {\n      this.hideCurrentTab();\n    }\n\n    this.tabsById.delete(id);\n\n    this.tabsHistory.splice(this.tabsHistory.indexOf(tab), 1);\n    this.tabs.splice(this.tabs.indexOf(tab), 1);\n    if (tab.shown) {\n      this.hideTabElement(tab);\n    }\n\n    const eventData: EventData = {prevTabId: undefined, tabId: id, view: tab.view, isUserGesture: userGesture};\n    this.dispatchEventToListeners(Events.TabClosed, eventData);\n    return true;\n  }\n\n  hasTab(tabId: string): boolean {\n    return this.tabsById.has(tabId);\n  }\n\n  otherTabs(id: string): string[] {\n    const result = [];\n    for (let i = 0; i < this.tabs.length; ++i) {\n      if (this.tabs[i].id !== id) {\n        result.push(this.tabs[i].id);\n      }\n    }\n    return result;\n  }\n\n  tabsToTheRight(id: string): string[] {\n    let index = -1;\n    for (let i = 0; i < this.tabs.length; ++i) {\n      if (this.tabs[i].id === id) {\n        index = i;\n        break;\n      }\n    }\n    if (index === -1) {\n      return [];\n    }\n    return this.tabs.slice(index + 1).map(function(tab) {\n      return tab.id;\n    });\n  }\n\n  private viewHasFocus(): boolean {\n    if (this.visibleView && this.visibleView.hasFocus()) {\n      return true;\n    }\n    const root = this.contentElement.getComponentRoot();\n    return root instanceof Document && this.contentElement === root.activeElement;\n  }\n\n  selectTab(id: string, userGesture?: boolean, forceFocus?: boolean): boolean {\n    if (this.currentTabLocked) {\n      return false;\n    }\n    const focused = this.viewHasFocus();\n    const tab = this.tabsById.get(id);\n    if (!tab) {\n      return false;\n    }\n\n    const eventData: EventData = {\n      prevTabId: this.currentTab ? this.currentTab.id : undefined,\n      tabId: id,\n      view: tab.view,\n      isUserGesture: userGesture,\n    };\n    this.dispatchEventToListeners(Events.TabInvoked, eventData);\n    if (this.currentTab && this.currentTab.id === id) {\n      return true;\n    }\n\n    this.suspendInvalidations();\n    this.hideCurrentTab();\n    this.showTab(tab);\n    this.resumeInvalidations();\n    this.currentTab = tab;\n\n    this.tabsHistory.splice(this.tabsHistory.indexOf(tab), 1);\n    this.tabsHistory.splice(0, 0, tab);\n\n    this.updateTabElements();\n    if (focused || forceFocus) {\n      this.focus();\n    }\n\n    this.dispatchEventToListeners(Events.TabSelected, eventData);\n    return true;\n  }\n\n  selectNextTab(): void {\n    const index = this.tabs.indexOf((this.currentTab as TabbedPaneTab));\n    const nextIndex = Platform.NumberUtilities.mod(index + 1, this.tabs.length);\n    this.selectTab(this.tabs[nextIndex].id, true);\n  }\n\n  selectPrevTab(): void {\n    const index = this.tabs.indexOf((this.currentTab as TabbedPaneTab));\n    const nextIndex = Platform.NumberUtilities.mod(index - 1, this.tabs.length);\n    this.selectTab(this.tabs[nextIndex].id, true);\n  }\n\n  lastOpenedTabIds(tabsCount: number): string[] {\n    function tabToTabId(tab: TabbedPaneTab): string {\n      return tab.id;\n    }\n\n    return this.tabsHistory.slice(0, tabsCount).map(tabToTabId);\n  }\n\n  setTabIcon(id: string, icon: IconButton.Icon.Icon|null): void {\n    const tab = this.tabsById.get(id);\n    if (!tab) {\n      return;\n    }\n    tab.setIcon(icon);\n    this.updateTabElements();\n  }\n\n  setSuffixElement(id: string, suffixElement: HTMLElement|null): void {\n    const tab = this.tabsById.get(id);\n    if (!tab) {\n      return;\n    }\n    tab.setSuffixElement(suffixElement);\n    this.updateTabElements();\n  }\n\n  setTabEnabled(id: string, enabled: boolean): void {\n    const tab = this.tabsById.get(id);\n    if (tab) {\n      tab.tabElement.classList.toggle('disabled', !enabled);\n    }\n  }\n\n  tabIsDisabled(id: string): boolean {\n    return !this.tabIsEnabled(id);\n  }\n\n  tabIsEnabled(id: string): boolean {\n    const tab = this.tabsById.get(id);\n    const disabled = tab?.tabElement.classList.contains('disabled') ?? false;\n    return !disabled;\n  }\n\n  toggleTabClass(id: string, className: string, force?: boolean): void {\n    const tab = this.tabsById.get(id);\n    if (tab && tab.toggleClass(className, force)) {\n      this.updateTabElements();\n    }\n  }\n\n  private zoomChanged(): void {\n    this.clearMeasuredWidths();\n    if (this.isShowing()) {\n      this.updateTabElements();\n    }\n  }\n\n  private clearMeasuredWidths(): void {\n    for (let i = 0; i < this.tabs.length; ++i) {\n      delete this.tabs[i].measuredWidth;\n    }\n  }\n\n  changeTabTitle(id: string, tabTitle: string, tabTooltip?: string): void {\n    const tab = this.tabsById.get(id);\n    if (tab && tabTooltip !== undefined) {\n      tab.tooltip = tabTooltip;\n    }\n    if (tab && tab.title !== tabTitle) {\n      tab.title = tabTitle;\n      ARIAUtils.setLabel(tab.tabElement, tabTitle);\n      this.updateTabElements();\n    }\n  }\n\n  changeTabView(id: string, view: Widget): void {\n    const tab = this.tabsById.get(id);\n    if (!tab || tab.view === view) {\n      return;\n    }\n\n    this.suspendInvalidations();\n    const isSelected = this.currentTab && this.currentTab.id === id;\n    const shouldFocus = tab.view.hasFocus();\n    if (isSelected) {\n      this.hideTab(tab);\n    }\n    tab.view = view;\n    if (isSelected) {\n      this.showTab(tab);\n    }\n    if (shouldFocus) {\n      tab.view.focus();\n    }\n    this.resumeInvalidations();\n  }\n\n  override onResize(): void {\n    if (this.currentDevicePixelRatio !== window.devicePixelRatio) {\n      // Force recalculation of all tab widths on a DPI change\n      this.clearMeasuredWidths();\n      this.currentDevicePixelRatio = window.devicePixelRatio;\n    }\n    this.updateTabElements();\n  }\n\n  headerResized(): void {\n    this.updateTabElements();\n  }\n\n  override wasShown(): void {\n    const effectiveTab = this.currentTab || this.tabsHistory[0];\n    if (effectiveTab && this.autoSelectFirstItemOnShow) {\n      this.selectTab(effectiveTab.id);\n    }\n    this.updateTabElements();\n  }\n\n  makeTabSlider(): void {\n    if (this.verticalTabLayout) {\n      return;\n    }\n    this.setTabSlider(true);\n  }\n\n  private setTabSlider(enable: boolean): void {\n    this.sliderEnabled = enable;\n    this.tabSlider.classList.toggle('enabled', enable);\n  }\n\n  override calculateConstraints(): Constraints {\n    let constraints = super.calculateConstraints();\n    const minContentConstraints = new Constraints(new Size(0, 0), new Size(50, 50));\n    constraints = constraints.widthToMax(minContentConstraints).heightToMax(minContentConstraints);\n    if (this.verticalTabLayout) {\n      constraints = constraints.addWidth(new Constraints(new Size(120, 0)));\n    } else {\n      constraints = constraints.addHeight(new Constraints(new Size(0, 30)));\n    }\n    return constraints;\n  }\n\n  private updateTabElements(): void {\n    invokeOnceAfterBatchUpdate(this, this.innerUpdateTabElements);\n  }\n\n  setPlaceholderElement(element: Element, focusedElement?: Element): void {\n    this.placeholderElement = element;\n    if (focusedElement) {\n      this.focusedPlaceholderElement = focusedElement;\n    }\n    if (this.placeholderContainerElement) {\n      this.placeholderContainerElement.removeChildren();\n      this.placeholderContainerElement.appendChild(element);\n    }\n  }\n\n  async waitForTabElementUpdate(): Promise<void> {\n    this.innerUpdateTabElements();\n  }\n\n  private innerUpdateTabElements(): void {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    if (!this.tabs.length) {\n      this.contentElementInternal.classList.add('has-no-tabs');\n      if (this.placeholderElement && !this.placeholderContainerElement) {\n        this.placeholderContainerElement =\n            this.contentElementInternal.createChild('div', 'tabbed-pane-placeholder fill');\n        this.placeholderContainerElement.appendChild(this.placeholderElement);\n        if (this.focusedPlaceholderElement) {\n          this.setDefaultFocusedElement(this.focusedPlaceholderElement);\n        }\n      }\n    } else {\n      this.contentElementInternal.classList.remove('has-no-tabs');\n      if (this.placeholderContainerElement) {\n        this.placeholderContainerElement.remove();\n        this.setDefaultFocusedElement(this.contentElement);\n        delete this.placeholderContainerElement;\n      }\n    }\n\n    this.measureDropDownButton();\n    this.adjustToolbarWidth();\n    this.updateWidths();\n    this.updateTabsDropDown();\n    this.updateTabSlider();\n  }\n\n  private adjustToolbarWidth(): void {\n    if (!this.rightToolbarInternal || !this.measuredDropDownButtonWidth) {\n      return;\n    }\n    const leftToolbarWidth = this.leftToolbarInternal?.element.getBoundingClientRect().width ?? 0;\n    const rightToolbarWidth = this.rightToolbarInternal.element.getBoundingClientRect().width;\n    const totalWidth = this.headerElementInternal.getBoundingClientRect().width;\n    if (!this.rightToolbarInternal.hasCompactLayout() &&\n        totalWidth - rightToolbarWidth - leftToolbarWidth < this.measuredDropDownButtonWidth + 10) {\n      this.rightToolbarInternal.setCompactLayout(true);\n    } else if (\n        this.rightToolbarInternal.hasCompactLayout() &&\n        // Estimate the right toolbar size in non-compact mode as 2 times its compact size.\n        totalWidth - 2 * rightToolbarWidth - leftToolbarWidth > this.measuredDropDownButtonWidth + 10) {\n      this.rightToolbarInternal.setCompactLayout(false);\n    }\n  }\n\n  private showTabElement(index: number, tab: TabbedPaneTab): void {\n    if (index >= this.tabsElement.children.length) {\n      this.tabsElement.appendChild(tab.tabElement);\n    } else {\n      this.tabsElement.insertBefore(tab.tabElement, this.tabsElement.children[index]);\n    }\n    tab.shown = true;\n  }\n\n  private hideTabElement(tab: TabbedPaneTab): void {\n    this.tabsElement.removeChild(tab.tabElement);\n    tab.shown = false;\n  }\n\n  private createDropDownButton(): HTMLDivElement {\n    const dropDownContainer = document.createElement('div');\n    dropDownContainer.classList.add('tabbed-pane-header-tabs-drop-down-container');\n    dropDownContainer.setAttribute('jslog', `${VisualLogging.dropDown('more-tabs').track({click: true})}`);\n    const chevronIcon = IconButton.Icon.create('chevron-double-right', 'chevron-icon');\n    const moreTabsString = i18nString(UIStrings.moreTabs);\n    dropDownContainer.title = moreTabsString;\n    ARIAUtils.markAsMenuButton(dropDownContainer);\n    ARIAUtils.setLabel(dropDownContainer, moreTabsString);\n    ARIAUtils.setExpanded(dropDownContainer, false);\n    dropDownContainer.tabIndex = 0;\n    dropDownContainer.appendChild(chevronIcon);\n    dropDownContainer.addEventListener('click', this.dropDownClicked.bind(this));\n    dropDownContainer.addEventListener('keydown', this.dropDownKeydown.bind(this));\n    dropDownContainer.addEventListener('mousedown', event => {\n      if (event.button !== 0 || this.triggerDropDownTimeout) {\n        return;\n      }\n      this.triggerDropDownTimeout = window.setTimeout(this.dropDownClicked.bind(this, event), 200);\n    });\n    return dropDownContainer;\n  }\n\n  private dropDownClicked(ev: Event): void {\n    const event = (ev as MouseEvent);\n    if (event.button !== 0) {\n      return;\n    }\n    if (this.triggerDropDownTimeout) {\n      clearTimeout(this.triggerDropDownTimeout);\n      this.triggerDropDownTimeout = null;\n    }\n    const rect = this.dropDownButton.getBoundingClientRect();\n    const menu = new ContextMenu(event, {\n      useSoftMenu: false,\n      x: rect.left,\n      y: rect.bottom,\n      onSoftMenuClosed: () => {\n        ARIAUtils.setExpanded(this.dropDownButton, false);\n      },\n    });\n    for (const tab of this.tabs) {\n      if (tab.shown) {\n        continue;\n      }\n      if (this.numberOfTabsShown() === 0 && this.tabsHistory[0] === tab) {\n        menu.defaultSection().appendCheckboxItem(\n            tab.title, this.dropDownMenuItemSelected.bind(this, tab), {checked: true, jslogContext: tab.jslogContext});\n      } else {\n        menu.defaultSection().appendItem(\n            tab.title, this.dropDownMenuItemSelected.bind(this, tab), {jslogContext: tab.jslogContext});\n      }\n    }\n    void menu.show().then(() => ARIAUtils.setExpanded(this.dropDownButton, menu.isHostedMenuOpen()));\n  }\n\n  private dropDownKeydown(event: KeyboardEvent): void {\n    if (Platform.KeyboardUtilities.isEnterOrSpaceKey(event)) {\n      this.dropDownButton.click();\n      event.consume(true);\n    }\n  }\n\n  private dropDownMenuItemSelected(tab: TabbedPaneTab): void {\n    this.lastSelectedOverflowTab = tab;\n    this.selectTab(tab.id, true, true);\n  }\n\n  private totalWidth(): number {\n    return this.headerContentsElement.getBoundingClientRect().width;\n  }\n\n  private numberOfTabsShown(): number {\n    let numTabsShown = 0;\n    for (const tab of this.tabs) {\n      if (tab.shown) {\n        numTabsShown++;\n      }\n    }\n    return numTabsShown;\n  }\n\n  disableOverflowMenu(): void {\n    this.overflowDisabled = true;\n  }\n\n  private updateTabsDropDown(): void {\n    const tabsToShowIndexes =\n        this.tabsToShowIndexes(this.tabs, this.tabsHistory, this.totalWidth(), this.measuredDropDownButtonWidth || 0);\n    if (this.lastSelectedOverflowTab && this.numberOfTabsShown() !== tabsToShowIndexes.length) {\n      delete this.lastSelectedOverflowTab;\n      this.updateTabsDropDown();\n      return;\n    }\n\n    for (let i = 0; i < this.tabs.length; ++i) {\n      if (this.tabs[i].shown && tabsToShowIndexes.indexOf(i) === -1) {\n        this.hideTabElement(this.tabs[i]);\n      }\n    }\n    for (let i = 0; i < tabsToShowIndexes.length; ++i) {\n      const tab = this.tabs[tabsToShowIndexes[i]];\n      if (!tab.shown) {\n        this.showTabElement(i, tab);\n      }\n    }\n\n    if (!this.overflowDisabled) {\n      this.maybeShowDropDown(tabsToShowIndexes.length !== this.tabs.length);\n    }\n  }\n\n  private maybeShowDropDown(hasMoreTabs: boolean): void {\n    if (hasMoreTabs && !this.dropDownButton.parentElement) {\n      this.headerContentsElement.appendChild(this.dropDownButton);\n    } else if (!hasMoreTabs && this.dropDownButton.parentElement) {\n      this.headerContentsElement.removeChild(this.dropDownButton);\n    }\n  }\n\n  private measureDropDownButton(): void {\n    if (this.overflowDisabled || this.measuredDropDownButtonWidth) {\n      return;\n    }\n    this.dropDownButton.classList.add('measuring');\n    this.headerContentsElement.appendChild(this.dropDownButton);\n    this.measuredDropDownButtonWidth = this.dropDownButton.getBoundingClientRect().width;\n    this.headerContentsElement.removeChild(this.dropDownButton);\n    this.dropDownButton.classList.remove('measuring');\n  }\n\n  private updateWidths(): void {\n    const measuredWidths = this.measureWidths();\n    const maxWidth =\n        this.shrinkableTabs ? this.calculateMaxWidth(measuredWidths.slice(), this.totalWidth()) : Number.MAX_VALUE;\n\n    let i = 0;\n    for (const tab of this.tabs) {\n      tab.setWidth(this.verticalTabLayout ? -1 : Math.min(maxWidth, measuredWidths[i++]));\n    }\n  }\n\n  private measureWidths(): number[] {\n    // Add all elements to measure into this.tabsElement\n    this.tabsElement.style.setProperty('width', '2000px');\n    const measuringTabElements = new Map<HTMLElement, TabbedPaneTab>();\n    for (const tab of this.tabs) {\n      if (typeof tab.measuredWidth === 'number') {\n        continue;\n      }\n      const measuringTabElement = tab.createTabElement(/* measure */ true);\n      measuringTabElements.set(measuringTabElement, tab);\n      this.tabsElement.appendChild(measuringTabElement);\n    }\n\n    // Perform measurement\n    for (const [measuringTabElement, tab] of measuringTabElements) {\n      const width = measuringTabElement.getBoundingClientRect().width;\n      tab.measuredWidth = Math.ceil(width);\n    }\n\n    // Nuke elements from the UI\n    for (const measuringTabElement of measuringTabElements.keys()) {\n      measuringTabElement.remove();\n    }\n\n    // Combine the results.\n    const measuredWidths = [];\n    for (const tab of this.tabs) {\n      measuredWidths.push(tab.measuredWidth || 0);\n    }\n    this.tabsElement.style.removeProperty('width');\n\n    return measuredWidths;\n  }\n\n  private calculateMaxWidth(measuredWidths: number[], totalWidth: number): number {\n    if (!measuredWidths.length) {\n      return 0;\n    }\n\n    measuredWidths.sort(function(x, y) {\n      return x - y;\n    });\n\n    let totalMeasuredWidth = 0;\n    for (let i = 0; i < measuredWidths.length; ++i) {\n      totalMeasuredWidth += measuredWidths[i];\n    }\n\n    if (totalWidth >= totalMeasuredWidth) {\n      return measuredWidths[measuredWidths.length - 1];\n    }\n\n    let totalExtraWidth = 0;\n    for (let i = measuredWidths.length - 1; i > 0; --i) {\n      const extraWidth = measuredWidths[i] - measuredWidths[i - 1];\n      totalExtraWidth += (measuredWidths.length - i) * extraWidth;\n\n      if (totalWidth + totalExtraWidth >= totalMeasuredWidth) {\n        return measuredWidths[i - 1] +\n            (totalWidth + totalExtraWidth - totalMeasuredWidth) / (measuredWidths.length - i);\n      }\n    }\n\n    return totalWidth / measuredWidths.length;\n  }\n\n  private tabsToShowIndexes(\n      tabsOrdered: TabbedPaneTab[], tabsHistory: TabbedPaneTab[], totalWidth: number,\n      measuredDropDownButtonWidth: number): number[] {\n    const tabsToShowIndexes = [];\n\n    let totalTabsWidth = 0;\n    const tabCount = tabsOrdered.length;\n    const tabsToLookAt = tabsOrdered.slice(0);\n    if (this.currentTab !== undefined) {\n      tabsToLookAt.unshift(tabsToLookAt.splice(tabsToLookAt.indexOf(this.currentTab), 1)[0]);\n    }\n    if (this.lastSelectedOverflowTab !== undefined) {\n      tabsToLookAt.unshift(tabsToLookAt.splice(tabsToLookAt.indexOf(this.lastSelectedOverflowTab), 1)[0]);\n    }\n    for (let i = 0; i < tabCount; ++i) {\n      const tab = this.automaticReorder ? tabsHistory[i] : tabsToLookAt[i];\n      totalTabsWidth += tab.width();\n      let minimalRequiredWidth = totalTabsWidth;\n      if (i !== tabCount - 1) {\n        minimalRequiredWidth += measuredDropDownButtonWidth;\n      }\n      if (!this.verticalTabLayout && minimalRequiredWidth > totalWidth) {\n        break;\n      }\n      tabsToShowIndexes.push(tabsOrdered.indexOf(tab));\n    }\n\n    tabsToShowIndexes.sort(function(x, y) {\n      return x - y;\n    });\n\n    return tabsToShowIndexes;\n  }\n\n  private hideCurrentTab(): void {\n    if (!this.currentTab) {\n      return;\n    }\n\n    this.hideTab(this.currentTab);\n    delete this.currentTab;\n  }\n\n  private showTab(tab: TabbedPaneTab): void {\n    tab.tabElement.tabIndex = 0;\n    tab.tabElement.classList.add('selected');\n    ARIAUtils.setSelected(tab.tabElement, true);\n    tab.view.show(this.element);\n    this.updateTabSlider();\n  }\n\n  updateTabSlider(): void {\n    if (!this.sliderEnabled) {\n      return;\n    }\n    if (!this.currentTab) {\n      this.tabSlider.style.width = '0';\n      return;\n    }\n    let left = 0;\n    for (let i = 0; i < this.tabs.length && this.currentTab !== this.tabs[i]; i++) {\n      if (this.tabs[i].shown) {\n        left += this.tabs[i].measuredWidth || 0;\n      }\n    }\n    const sliderWidth = this.currentTab.shown ? this.currentTab.measuredWidth : this.dropDownButton.offsetWidth;\n    const scaleFactor = window.devicePixelRatio >= 1.5 ? ' scaleY(0.75)' : '';\n    this.tabSlider.style.transform = 'translateX(' + left + 'px)' + scaleFactor;\n    this.tabSlider.style.width = sliderWidth + 'px';\n\n    if (this.tabSlider.parentElement !== this.headerContentsElement) {\n      this.headerContentsElement.appendChild(this.tabSlider);\n    }\n  }\n\n  private hideTab(tab: TabbedPaneTab): void {\n    tab.tabElement.removeAttribute('tabIndex');\n    tab.tabElement.classList.remove('selected');\n    tab.tabElement.tabIndex = -1;\n    tab.tabElement.setAttribute('aria-selected', 'false');\n    tab.view.detach();\n  }\n\n  override elementsToRestoreScrollPositionsFor(): Element[] {\n    return [this.contentElementInternal];\n  }\n\n  insertBefore(tab: TabbedPaneTab, index: number): void {\n    this.tabsElement.insertBefore(tab.tabElement, this.tabsElement.childNodes[index]);\n    const oldIndex = this.tabs.indexOf(tab);\n    this.tabs.splice(oldIndex, 1);\n    if (oldIndex < index) {\n      --index;\n    }\n    this.tabs.splice(index, 0, tab);\n\n    const eventData: EventData = {prevTabId: undefined, tabId: tab.id, view: tab.view, isUserGesture: undefined};\n    this.dispatchEventToListeners(Events.TabOrderChanged, eventData);\n  }\n\n  leftToolbar(): Toolbar {\n    if (!this.leftToolbarInternal) {\n      this.leftToolbarInternal = new Toolbar('tabbed-pane-left-toolbar');\n      this.headerElementInternal.insertBefore(this.leftToolbarInternal.element, this.headerElementInternal.firstChild);\n    }\n    return this.leftToolbarInternal;\n  }\n\n  rightToolbar(): Toolbar {\n    if (!this.rightToolbarInternal) {\n      this.rightToolbarInternal = new Toolbar('tabbed-pane-right-toolbar');\n      this.headerElementInternal.appendChild(this.rightToolbarInternal.element);\n    }\n    return this.rightToolbarInternal;\n  }\n\n  setAllowTabReorder(allow: boolean, automatic?: boolean): void {\n    this.allowTabReorder = allow;\n    this.automaticReorder = automatic;\n  }\n\n  private keyDown(ev: Event): void {\n    if (!this.currentTab) {\n      return;\n    }\n    const event = (ev as KeyboardEvent);\n    let nextTabElement: (Element|null)|null = null;\n    switch (event.key) {\n      case 'ArrowUp':\n      case 'ArrowLeft':\n        nextTabElement = this.currentTab.tabElement.previousElementSibling;\n        if (!nextTabElement && !this.dropDownButton.parentElement) {\n          nextTabElement = this.currentTab.tabElement.parentElement ?\n              this.currentTab.tabElement.parentElement.lastElementChild :\n              null;\n        }\n        break;\n      case 'ArrowDown':\n      case 'ArrowRight':\n        nextTabElement = this.currentTab.tabElement.nextElementSibling;\n        if (!nextTabElement && !this.dropDownButton.parentElement) {\n          nextTabElement = this.currentTab.tabElement.parentElement ?\n              this.currentTab.tabElement.parentElement.firstElementChild :\n              null;\n        }\n        break;\n      case 'Enter':\n      case ' ':\n        this.currentTab.view.focus();\n        return;\n      default:\n        return;\n    }\n    if (!nextTabElement) {\n      this.dropDownButton.click();\n      return;\n    }\n    const tab = this.tabs.find(tab => tab.tabElement === nextTabElement);\n    if (tab) {\n      this.selectTab(tab.id, true);\n    }\n    (nextTabElement as HTMLElement).focus();\n  }\n}\nexport interface EventData {\n  prevTabId?: string;\n  tabId: string;\n  view?: Widget;\n  isUserGesture?: boolean;\n}\n\nexport enum Events {\n  /* eslint-disable @typescript-eslint/naming-convention -- Used by web_tests. */\n  TabInvoked = 'TabInvoked',\n  TabSelected = 'TabSelected',\n  TabClosed = 'TabClosed',\n  TabOrderChanged = 'TabOrderChanged',\n  /* eslint-enable @typescript-eslint/naming-convention */\n}\n\nexport type EventTypes = {\n  [Events.TabInvoked]: EventData,\n  [Events.TabSelected]: EventData,\n  [Events.TabClosed]: EventData,\n  [Events.TabOrderChanged]: EventData,\n};\n\nexport class TabbedPaneTab {\n  closeable: boolean;\n  previewFeature = false;\n  private readonly tabbedPane: TabbedPane;\n  idInternal: string;\n  private titleInternal: string;\n  private tooltipInternal: string|undefined;\n  private viewInternal: Widget;\n  shown: boolean;\n  measuredWidth!: number|undefined;\n  private tabElementInternal!: HTMLElement|undefined;\n  private icon: IconButton.Icon.Icon|null = null;\n  private suffixElement: HTMLElement|null = null;\n  private widthInternal?: number;\n  private delegate?: TabbedPaneTabDelegate;\n  private titleElement?: HTMLElement;\n  private dragStartX?: number;\n  private jslogContextInternal?: string;\n  constructor(\n      tabbedPane: TabbedPane, id: string, title: string, closeable: boolean, previewFeature: boolean, view: Widget,\n      tooltip?: string, jslogContext?: string) {\n    this.closeable = closeable;\n    this.previewFeature = previewFeature;\n    this.tabbedPane = tabbedPane;\n    this.idInternal = id;\n    this.titleInternal = title;\n    this.tooltipInternal = tooltip;\n    this.viewInternal = view;\n    this.shown = false;\n    this.jslogContextInternal = jslogContext;\n  }\n\n  get id(): string {\n    return this.idInternal;\n  }\n\n  get title(): string {\n    return this.titleInternal;\n  }\n\n  set title(title: string) {\n    if (title === this.titleInternal) {\n      return;\n    }\n    this.titleInternal = title;\n    if (this.titleElement) {\n      this.titleElement.textContent = title;\n      const closeIconContainer = this.tabElementInternal?.querySelector('.close-button');\n      closeIconContainer?.setAttribute('title', i18nString(UIStrings.closeS, {PH1: title}));\n      closeIconContainer?.setAttribute('aria-label', i18nString(UIStrings.closeS, {PH1: title}));\n    }\n    delete this.measuredWidth;\n  }\n\n  get jslogContext(): string {\n    return this.jslogContextInternal ?? (this.idInternal === 'console-view' ? 'console' : this.idInternal);\n  }\n\n  isCloseable(): boolean {\n    return this.closeable;\n  }\n\n  setIcon(icon: IconButton.Icon.Icon|null): void {\n    this.icon = icon;\n    if (this.tabElementInternal && this.titleElement) {\n      this.createIconElement(this.tabElementInternal, this.titleElement, false);\n    }\n    delete this.measuredWidth;\n  }\n\n  setSuffixElement(suffixElement: HTMLElement|null): void {\n    this.suffixElement = suffixElement;\n    if (this.tabElementInternal && this.titleElement) {\n      this.createSuffixElement(this.tabElementInternal, this.titleElement, false);\n    }\n    delete this.measuredWidth;\n  }\n\n  toggleClass(className: string, force?: boolean): boolean {\n    const element = this.tabElement;\n    const hasClass = element.classList.contains(className);\n    if (hasClass === force) {\n      return false;\n    }\n    element.classList.toggle(className, force);\n    delete this.measuredWidth;\n    return true;\n  }\n\n  get view(): Widget {\n    return this.viewInternal;\n  }\n\n  set view(view: Widget) {\n    this.viewInternal = view;\n  }\n\n  get tooltip(): string|undefined {\n    return this.tooltipInternal;\n  }\n\n  set tooltip(tooltip: string|undefined) {\n    this.tooltipInternal = tooltip;\n    if (this.titleElement) {\n      Tooltip.install(this.titleElement, tooltip || '');\n    }\n  }\n\n  get tabElement(): HTMLElement {\n    if (!this.tabElementInternal) {\n      this.tabElementInternal = this.createTabElement(false);\n    }\n\n    return this.tabElementInternal;\n  }\n\n  width(): number {\n    return this.widthInternal || 0;\n  }\n\n  setWidth(width: number): void {\n    this.tabElement.style.width = width === -1 ? '' : (width + 'px');\n    this.widthInternal = width;\n  }\n\n  setDelegate(delegate: TabbedPaneTabDelegate): void {\n    this.delegate = delegate;\n  }\n\n  private createIconElement(tabElement: Element, titleElement: Element, measuring: boolean): void {\n    const iconElement = tabIcons.get(tabElement);\n    if (iconElement) {\n      iconElement.remove();\n      tabIcons.delete(tabElement);\n    }\n    if (!this.icon) {\n      return;\n    }\n\n    const iconContainer = document.createElement('span');\n    iconContainer.classList.add('tabbed-pane-header-tab-icon');\n    const iconNode = measuring ? this.createMeasureClone(this.icon) : this.icon;\n    iconContainer.appendChild(iconNode);\n    tabElement.insertBefore(iconContainer, titleElement);\n    tabIcons.set(tabElement, iconContainer);\n  }\n\n  private createSuffixElement(tabElement: Element, titleElement: Element, measuring: boolean): void {\n    const tabSuffixElement = tabSuffixElements.get(tabElement);\n    if (tabSuffixElement) {\n      tabSuffixElement.remove();\n      tabSuffixElements.delete(tabElement);\n    }\n    if (!this.suffixElement) {\n      return;\n    }\n\n    const suffixElementContainer = document.createElement('span');\n    suffixElementContainer.classList.add('tabbed-pane-header-tab-suffix-element');\n    const suffixElement = measuring ? this.suffixElement.cloneNode() : this.suffixElement;\n    suffixElementContainer.appendChild(suffixElement);\n    titleElement.insertAdjacentElement('afterend', suffixElementContainer);\n    tabSuffixElements.set(tabElement, suffixElementContainer);\n  }\n\n  private createMeasureClone(original: IconButton.Icon.Icon): Element {\n    // Cloning doesn't work for the icon component because the shadow\n    // root isn't copied, but it is sufficient to create a div styled\n    // to be the same size.\n    const fakeClone = document.createElement('div');\n    fakeClone.style.width = original.style.width;\n    fakeClone.style.height = original.style.height;\n    return fakeClone;\n  }\n\n  createTabElement(measuring: boolean): HTMLElement {\n    const tabElement = document.createElement('div');\n    tabElement.classList.add('tabbed-pane-header-tab');\n    tabElement.id = 'tab-' + this.idInternal;\n    ARIAUtils.markAsTab(tabElement);\n    ARIAUtils.setSelected(tabElement, false);\n    ARIAUtils.setLabel(tabElement, this.title);\n\n    const titleElement = tabElement.createChild('span', 'tabbed-pane-header-tab-title');\n    titleElement.textContent = this.title;\n    Tooltip.install(titleElement, this.tooltip || '');\n    this.createIconElement(tabElement, titleElement, measuring);\n    this.createSuffixElement(tabElement, titleElement, measuring);\n    if (!measuring) {\n      this.titleElement = titleElement;\n    }\n\n    if (this.previewFeature) {\n      const previewIcon = this.createPreviewIcon();\n      tabElement.appendChild(previewIcon);\n      tabElement.classList.add('preview');\n    }\n\n    if (this.closeable) {\n      const closeIcon = this.createCloseIconButton();\n      tabElement.appendChild(closeIcon);\n      tabElement.classList.add('closeable');\n    }\n\n    if (measuring) {\n      tabElement.classList.add('measuring');\n    } else {\n      tabElement.addEventListener('click', this.tabClicked.bind(this), false);\n      tabElement.addEventListener('auxclick', this.tabClicked.bind(this), false);\n      tabElement.addEventListener('mousedown', this.tabMouseDown.bind(this), false);\n      tabElement.addEventListener('mouseup', this.tabMouseUp.bind(this), false);\n\n      tabElement.addEventListener('contextmenu', this.tabContextMenu.bind(this), false);\n      if (this.tabbedPane.allowTabReorder) {\n        installDragHandle(\n            tabElement, this.startTabDragging.bind(this), this.tabDragging.bind(this), this.endTabDragging.bind(this),\n            null, null, 200);\n      }\n    }\n\n    return tabElement as HTMLElement;\n  }\n\n  private createCloseIconButton(): Buttons.Button.Button {\n    const closeButton = new Buttons.Button.Button();\n    closeButton.data = {\n      variant: Buttons.Button.Variant.ICON,\n      size: Buttons.Button.Size.SMALL,\n      iconName: 'cross',\n      title: i18nString(UIStrings.closeS, {PH1: this.title}),\n    };\n    closeButton.classList.add('close-button', 'tabbed-pane-close-button');\n    closeButton.setAttribute('jslog', `${VisualLogging.close().track({click: true})}`);\n\n    closeButton.setAttribute('aria-label', i18nString(UIStrings.closeS, {PH1: this.title}));\n    return closeButton;\n  }\n\n  private createPreviewIcon(): HTMLDivElement {\n    const previewIcon = document.createElement('div');\n    previewIcon.classList.add('preview-icon');\n    const closeIcon = new IconButton.Icon.Icon();\n    closeIcon.data = {\n      iconName: 'experiment',\n      color: 'var(--override-tabbed-pane-preview-icon-color)',\n      width: '16px',\n    };\n    previewIcon.appendChild(closeIcon);\n    previewIcon.setAttribute('title', i18nString(UIStrings.previewFeature));\n    previewIcon.setAttribute('aria-label', i18nString(UIStrings.previewFeature));\n    return previewIcon;\n  }\n\n  private isCloseIconClicked(element: HTMLElement): boolean {\n    return element?.classList.contains('tabbed-pane-close-button') ||\n        element?.parentElement?.classList.contains('tabbed-pane-close-button') || false;\n  }\n\n  private tabClicked(ev: Event): void {\n    const event = (ev as MouseEvent);\n    const middleButton = event.button === 1;\n    const shouldClose = this.closeable && (middleButton || this.isCloseIconClicked(event.target as HTMLElement));\n    if (!shouldClose) {\n      this.tabbedPane.focus();\n      return;\n    }\n    this.closeTabs([this.id]);\n    event.consume(true);\n  }\n\n  private tabMouseDown(ev: Event): void {\n    const event = ev as MouseEvent;\n    if (this.isCloseIconClicked(event.target as HTMLElement) || event.button !== 0) {\n      return;\n    }\n    this.tabbedPane.selectTab(this.id, true);\n  }\n\n  private tabMouseUp(ev: Event): void {\n    const event = (ev as MouseEvent);\n    // This is needed to prevent middle-click pasting on linux when tabs are clicked.\n    if (event.button === 1) {\n      event.consume(true);\n    }\n  }\n\n  private closeTabs(ids: string[]): void {\n    if (this.delegate) {\n      this.delegate.closeTabs(this.tabbedPane, ids);\n      return;\n    }\n    this.tabbedPane.closeTabs(ids, true);\n  }\n\n  private tabContextMenu(event: Event): void {\n    function close(this: TabbedPaneTab): void {\n      this.closeTabs([this.id]);\n    }\n\n    function closeOthers(this: TabbedPaneTab): void {\n      this.closeTabs(this.tabbedPane.otherTabs(this.id));\n    }\n\n    function closeAll(this: TabbedPaneTab): void {\n      this.closeTabs(this.tabbedPane.tabIds());\n    }\n\n    function closeToTheRight(this: TabbedPaneTab): void {\n      this.closeTabs(this.tabbedPane.tabsToTheRight(this.id));\n    }\n\n    const contextMenu = new ContextMenu(event);\n    if (this.closeable) {\n      contextMenu.defaultSection().appendItem(i18nString(UIStrings.close), close.bind(this), {jslogContext: 'close'});\n      contextMenu.defaultSection().appendItem(\n          i18nString(UIStrings.closeOthers), closeOthers.bind(this), {jslogContext: 'close-others'});\n      contextMenu.defaultSection().appendItem(\n          i18nString(UIStrings.closeTabsToTheRight), closeToTheRight.bind(this),\n          {jslogContext: 'close-tabs-to-the-right'});\n      contextMenu.defaultSection().appendItem(\n          i18nString(UIStrings.closeAll), closeAll.bind(this), {jslogContext: 'close-all'});\n    }\n    if (this.delegate) {\n      this.delegate.onContextMenu(this.id, contextMenu);\n    }\n    void contextMenu.show();\n  }\n\n  private startTabDragging(ev: Event): boolean {\n    const event = (ev as MouseEvent);\n    if (this.isCloseIconClicked(event.target as HTMLElement)) {\n      return false;\n    }\n    this.dragStartX = event.pageX;\n    if (this.tabElementInternal) {\n      this.tabElementInternal.classList.add('dragging');\n    }\n    this.tabbedPane.tabSlider.remove();\n    return true;\n  }\n\n  private tabDragging(ev: Event): void {\n    const event = (ev as MouseEvent);\n    const tabElements = this.tabbedPane.tabsElement.childNodes;\n    for (let i = 0; i < tabElements.length; ++i) {\n      let tabElement: HTMLElement = (tabElements[i] as HTMLElement);\n      if (!this.tabElementInternal || tabElement === this.tabElementInternal) {\n        continue;\n      }\n\n      const intersects = tabElement.offsetLeft + tabElement.clientWidth > this.tabElementInternal.offsetLeft &&\n          this.tabElementInternal.offsetLeft + this.tabElementInternal.clientWidth > tabElement.offsetLeft;\n      if (!intersects) {\n        continue;\n      }\n\n      const dragStartX = (this.dragStartX as number);\n      if (Math.abs(event.pageX - dragStartX) < tabElement.clientWidth / 2 + 5) {\n        break;\n      }\n\n      if (event.pageX - dragStartX > 0) {\n        tabElement = (tabElement.nextSibling as HTMLElement);\n        ++i;\n      }\n\n      const oldOffsetLeft = this.tabElementInternal.offsetLeft;\n      this.tabbedPane.insertBefore(this, i);\n      this.dragStartX = dragStartX + this.tabElementInternal.offsetLeft - oldOffsetLeft;\n      break;\n    }\n\n    const dragStartX = (this.dragStartX as number);\n    const tabElement = (this.tabElementInternal as HTMLElement);\n    if (!tabElement.previousSibling && event.pageX - dragStartX < 0) {\n      tabElement.style.setProperty('left', '0px');\n      return;\n    }\n    if (!tabElement.nextSibling && event.pageX - dragStartX > 0) {\n      tabElement.style.setProperty('left', '0px');\n      return;\n    }\n\n    tabElement.style.setProperty('left', (event.pageX - dragStartX) + 'px');\n  }\n\n  private endTabDragging(_event: Event): void {\n    const tabElement = (this.tabElementInternal as HTMLElement);\n    tabElement.classList.remove('dragging');\n    tabElement.style.removeProperty('left');\n    delete this.dragStartX;\n    this.tabbedPane.updateTabSlider();\n  }\n}\n\nconst tabIcons = new WeakMap<Element, Element>();\nconst tabSuffixElements = new WeakMap<Element, Element>();\n\nexport interface TabbedPaneTabDelegate {\n  closeTabs(tabbedPane: TabbedPane, ids: string[]): void;\n  onContextMenu(tabId: string, contextMenu: ContextMenu): void;\n}\n"],
  "mappings": "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",
  "names": ["tab", "Events", "tabElement", "dragStartX"]
}
