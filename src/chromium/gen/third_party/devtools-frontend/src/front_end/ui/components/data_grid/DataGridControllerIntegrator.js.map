{
  "version": 3,
  "sources": ["../../../../../../../../../../third_party/devtools-frontend/src/front_end/ui/components/data_grid/DataGridControllerIntegrator.ts"],
  "sourcesContent": ["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../../core/common/common.js';\nimport * as UI from '../../legacy/legacy.js';\n\nimport {DataGridController, type DataGridControllerData} from './DataGridController.js';\n\nexport class DataGridControllerIntegrator extends UI.Widget.VBox {\n  readonly dataGrid: DataGridController;\n  readonly #updateThrottler: Common.Throttler.Throttler;\n  // The `data` here mirrors the data of the DataGridController because\n  // the users of this class expects the `data` to be up to date after `update` calls.\n  // However, the `update` calls below are debounced for setting `dataGrid`s data\n  // for performance reasons.\n  #data: DataGridControllerData;\n\n  constructor(data: DataGridControllerData) {\n    /**\n     * first true = useShadowDom and tells the widget system it's using a shadow dom\n     * second true = delegatesFocus, which tells the widget system to\n     * let the component deal with its own focusing.\n     */\n    super(true, true);\n\n    this.dataGrid = new DataGridController();\n    this.dataGrid.data = data;\n    this.#data = data;\n    this.contentElement.appendChild(this.dataGrid);\n    this.#updateThrottler = new Common.Throttler.Throttler(0);\n  }\n\n  data(): Readonly<DataGridControllerData> {\n    return this.#data;\n  }\n\n  override update(data?: Readonly<DataGridControllerData>): void {\n    if (!data) {\n      return;\n    }\n    this.#data = data;\n    // Setting of `dataGrid.data` is compute heavy because of the\n    // filtering logic. Thus, we're debouncing calls to the setter.\n    void this.#updateThrottler.schedule(async () => {\n      this.dataGrid.data = data;\n    });\n  }\n}\n"],
  "mappings": ";AAIA,YAAY,YAAY;AACxB,YAAY,QAAQ;AAEpB,SAAQ,0BAAsD;AAEvD,aAAM,qCAAqC,GAAG,OAAO,KAAK;AAAA,EACtD;AAAA,EACA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKT;AAAA,EAEA,YAAY,MAA8B;AAMxC,UAAM,MAAM,IAAI;AAEhB,SAAK,WAAW,IAAI,mBAAmB;AACvC,SAAK,SAAS,OAAO;AACrB,SAAK,QAAQ;AACb,SAAK,eAAe,YAAY,KAAK,QAAQ;AAC7C,SAAK,mBAAmB,IAAI,OAAO,UAAU,UAAU,CAAC;AAAA,EAC1D;AAAA,EAEA,OAAyC;AACvC,WAAO,KAAK;AAAA,EACd;AAAA,EAES,OAAO,MAA+C;AAC7D,QAAI,CAAC,MAAM;AACT;AAAA,IACF;AACA,SAAK,QAAQ;AAGb,SAAK,KAAK,iBAAiB,SAAS,YAAY;AAC9C,WAAK,SAAS,OAAO;AAAA,IACvB,CAAC;AAAA,EACH;AACF;",
  "names": []
}
